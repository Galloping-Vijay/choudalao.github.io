---
title: "页面刷新的时候记住滚动条的位置"
date: 2019-12-04T23:37:46+08:00
updated: 2026-02-23T02:19:21+08:00
author: "臭大佬"
categories: [前端]
description: "页面刷新的时候记住滚动条的位置"
cover: "https://www.choudalao.com/uploads/20191204/TCuNiYu1FejnmqPJ6dkX9C45i6vrXAyLJWuG1tY0.jpeg"
click: 3186
---

```javascript
window.onbeforeunload = function() {
	var scrollPos;
	if(typeof window.pageYOffset != 'undefined') {
		scrollPos = window.pageYOffset;
	} else if(typeof document.compatMode != 'undefined' &&
			  document.compatMode != 'BackCompat') {
		scrollPos = document.documentElement.scrollTop;
	} else if(typeof document.body != 'undefined') {
		scrollPos = document.body.scrollTop;
	}
	document.cookie = "scrollTop=" + scrollPos; //存储滚动条位置到cookies中
};
window.onload = function() {
	if(document.cookie.match(/scrollTop=([^;]+)(;|$)/) != null) {
		var arr = document.cookie.match(/scrollTop=([^;]+)(;|$)/); //cookies中不为空，则读取滚动条位置
		document.documentElement.scrollTop = parseInt(arr[1]);
		document.body.scrollTop = parseInt(arr[1]);
	}
};
```