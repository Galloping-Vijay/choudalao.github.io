---
title: "Vscode 对于 go 代码太过严苛"
date: 2020-08-13T12:12:28+08:00
updated: 2026-02-23T16:57:27+08:00
author: "臭大佬"
categories: [Go]
description: "Vscode 对于 go 代码太过严苛"
cover: "https://www.choudalao.com/uploads/20200813/PW7zU9PR1HdAaUyqfo4Qb3trXssRt8dHEaw3Rj8x.jpeg"
click: 3773
---

# 问题
`Vscode` 对 `go` 代码要求过于严苛，可能会出现闪烁等问题。

# 解决
 打开 `settings.json` 文件，配置如下
 
 ![](https://www.choudalao.com/uploads/20200813/20200813121200r0yh3W.png)
 
 ```shell
{
    "go.inferGopath": false,
	"go.lintFlags": [
	"-min_confidence=.8"
	],
}
```

一份具体的配置：
```shell
{
	    "go.useLanguageServer": true,
	    "timeline.excludeSources": [],
	    "[go]": {
	        "editor.snippetSuggestions": "none",
	        "editor.formatOnSave": true,
	        "editor.codeActionsOnSave": {
	            "source.organizeImports": true
	        }
	    },
	    
	    "gopls": {
	        "completeUnimported": true,
	        "usePlaceholders": true,
	        "completionDocumentation": true,
	        "deepCompletion": true, 
	        "matcher": "fuzzy",
	        "hoverKind": "SynopsisDocumentation" // No/Synopsis/Full, default Synopsis
	    },
	    
	    "files.eol": "\n", // formatting only supports LF line endings
	
	
	    "go.languageServerExperimentalFeatures": {
	        "format": true,
	        "autoComplete": true,
	        "rename": true,
	        "goToDefinition": true,
	        "hover": true,
	        "signatureHelp": true,
	        "goToTypeDefinition": true,
	        "goToImplementation": true,
	        "documentSymbols": true,
	        "workspaceSymbols": true,
	        "findReferences": true,
	        "diagnostics": false
	    },
	    "emmet.excludeLanguages": [
	    
	        "markdown"
	    ],
	    "go.addTags": {
	    
	},
	"go.inferGopath": false,
	"go.lintFlags": [
		"-min_confidence=.8"
		],
	}
```

### 扩展
当go的项目目录不是根目录时，可能引入的包会爆红，无法跳转

解决方法是：在根目录建一个`.vscode`目录,里面放一个`settings.json`文件
-.vscode
--settings.json

![](https://www.choudalao.com/uploads/20220527/20220527125654HxTjtL.png)

`settings.json`文件内容如下：
```go
{
    "go.inferGopath": false,
    "gopls": {
        "experimentalWorkspaceModule": true
    },
    
}
```

重启vscode，解决

![](https://www.choudalao.com/uploads/20220527/20220527125801IBlbjs.png)