---
title: "Codex CLI 安装及使用"
date: 2025-12-16T23:25:09+08:00
updated: 2026-02-23T16:56:11+08:00
author: "臭大佬"
categories: [AI]
description: "Codex CLI 安装及使用"
cover: "https://www.choudalao.com/images/config/default-img.jpg"
click: 617
---

# 安装

## WIN下安装
建议使用 PowerShell 而不是 CMD.
```go
npm install -g @openai/codex
```
### 验证
```go
codex -V
```
### 创建 Codex 配置目录
删除旧的配置目录（如果存在）
```go
Remove-Item -Path "$env:USERPROFILE\.codex" -Recurse -Force -ErrorAction SilentlyContinue
```
 创建新的配置目录
```go
New-Item -Path "$env:USERPROFILE\.codex" -ItemType Directory -Force
```
创建 auth.json 配置文件
```go
# 创建 auth.json 文件（注意：必须使用无 BOM 的 UTF-8 编码）
$content = @"
{
  "OPENAI_API_KEY": "你的API密钥"
}
"@
[System.IO.File]::WriteAllText("$env:USERPROFILE\.codex\auth.json", $content, [System.Text.UTF8Encoding]::new($false))
```
创建 config.toml 配置文件（注意：必须使用无 BOM 的 UTF-8 编码）
```go
$content = @"
model_provider = "univibe"
model = "gpt-5.1"
model_reasoning_effort = "high"
disable_response_storage = true
preferred_auth_method = "apikey"

[model_providers.univibe]
name = "univibe"
base_url = "https://xxx/openai"
wire_api = "responses"
"@
[System.IO.File]::WriteAllText("$env:USERPROFILE\.codex\config.toml", $content, [System.Text.UTF8Encoding]::new($false))
```

# 使用
## 启动
```go
codex
```