---
title: "Go 时间操作"
date: 2020-11-19T00:21:29+08:00
updated: 2026-02-23T17:32:05+08:00
author: "臭大佬"
categories: [Go]
description: "Go 时间操作"
cover: "https://www.choudalao.com/uploads/20201119/E26YovzHebNjMMyIGdma01rVeSBawNCaF5JFFKxg.jpeg"
click: 3337
---

# 获取当前时间

```php
dateTime := time.Now()
fmt.Printf("Now：%v\n", dateTime)
```
> Now：2022-05-27 16 : 29:28.7851174 +0800 CST m=+0.002545801

# 获取当前时间戳

```php
timeUnix := time.Now().Unix() //单位秒
fmt.Printf("单位秒：%v\n", timeUnix)
timeUnixNano := time.Now().UnixNano() //单位纳秒
fmt.Printf("单位纳秒：%v\n", timeUnixNano)
```
> 单位秒：1653640239
单位纳秒：1653640239649865000

# 将时间格式化

```php
formatTime := time.Now().Format("2006-01-02 15:04:05")
fmt.Printf("格式化：%v\n", formatTime)
```
> 格式化：2022-05-27 16 : 31:44

# 字符串转go时间格式
```go
stringTime := "2019-12-12 12:00:00"
formatTime, _ := time.Parse("2006-01-02 15:04:05", str)
fmt.Print(formatTime)
// 获取当地时间
t1 := "2022-05-30 15:04:05"
stamp, _ := time.ParseInLocation("2006-01-02 15:04:05", t1, time.Local)
fmt.Println(stamp)
// 时间格式获取时间戳
// stamp.Unix()
// go时间格式转时间格式
fmt.Println(time.Unix(stamp.Unix(), 0).Format("2006-01-02 15:04:05"))
```
> 2019-12- 12 12 : 00:00 +0000 UTC
2022-05-30  15:0 4:05 +0800 CST
2022-05-30 15: 04 :05



# 时间戳转为go格式的时间

```php
var timeUnix int64 = 1562555859
fmt.Println(time.Unix(timeUnix,0))
 
// 之后可以用Format 比如
formatTime :=time.Unix(timeUnix, 0).Format("2006-01-02 15:04:05")
fmt.Println(formatTime)
```
> 2019-07-08 11 :17 : 39 +0800 CST
2019-07-08 11:17 : 39

# str格式化时间转时间戳

```php
t := time.Date(2014, 1, 7, 5, 50, 4, 0, time.Local).Unix()
 
fmt.Println(t)
```
> 1389045004

# 获取年 月 日 时 分 秒 纳秒

```php
year := time.Now().Year() //年
fmt.Printf("年：%v\n", year)
month := time.Now().Month() //月（英文）
fmt.Printf("月：%v\n", month)
day := time.Now().Day() //日
fmt.Printf("日：%v\n", day)
hour := time.Now().Hour() //小时
fmt.Printf("小时：%v\n", hour)
minute := time.Now().Minute() //分钟
fmt.Printf("分钟：%v\n", minute)
second := time.Now().Second() //秒
fmt.Printf("秒：%v\n", second)
nanosecond := time.Now().Nanosecond() //纳秒
fmt.Printf("纳秒：%v\n", nanosecond)
```

> 年：2022
月：May
日：27
小时：16
分钟：32
秒：4
纳秒：286533500

# 获取今天0点0时0分的时间戳

```php
currentTime := time.Now()
startTime := time.Date(currentTime.Year(), currentTime.Month(), currentTime.Day(), 0, 0, 0, 0, currentTime.Location())
fmt.Println(startTime)
fmt.Println(startTime.Format("2006/01/02 15:04:05"))
```
> 2022-05-27 00 : 00:00 +0800 CST
2022/05/27 00:00 : 00

# 获取今天 23: 59: 59 秒的时间戳

```php
currentTime := time.Now()
endTime := time.Date(currentTime.Year(), currentTime.Month(), currentTime.Day(), 23, 59, 59, 0, currentTime.Location())
fmt.Println(endTime)
fmt.Println(endTime.Format("2006/01/02 15:04:05"))
```

> 2022-05-27 23 :59 :59 +0800 CST
2022/05/27 23: 59: 59

#  获取1分钟之前的时间

```php
currentTime := time.Now()
m, _ := time.ParseDuration("-1m")
result := currentTime.Add(m)
 
fmt.Println(result)
fmt.Println(result.Format("2006/01/02 15:04:05"))
```
> 2022-05-27 16 : 34:22.1795587 +0800 CST m=-59.997964499
2022/05/27 16: 34: 22

# 获取1小时之前的时间

```php
currentTime := time.Now()
m, _ := time.ParseDuration("-1h")
result := currentTime.Add(m)
fmt.Println(result)
fmt.Println(result.Format("2006/01/02 15:04:05"))
```

> 2022-05-27 15: 35:58.3461739 +0800 CST m=-3599.997962499
2022/05/27 15:35 :58

# 获取1分钟之后的时间

```php
currentTime := time.Now()
m, _ := time.ParseDuration("1m")
result := currentTime.Add(m)
 
fmt.Println(result)
fmt.Println(result.Format("2006/01/02 15:04:05"))
```
> 2022-05-27 16 : 37:22.6318872 +0800 CST m=+60.002063301
2022/05/27 16:37 :22

# 获取1小时之后的时间

```php
currentTime := time.Now()
m, _ := time.ParseDuration("1h")
result := currentTime.Add(m)
fmt.Println(result)
fmt.Println(result.Format("2006/01/02 15:04:05"))
```
> 2022-05-27 17: 36:45.0663526 +0800 CST m=+3600.002044701
2022/05/27 17:36 :45

# 计算两个时间戳

```php
currentTime := time.Now()
afterTime, _ := time.ParseDuration("1h")
result := currentTime.Add(afterTime)
 
beforeTime, _ := time.ParseDuration("-1h")
result2 := currentTime.Add(beforeTime)
 
m := result.Sub(result2)
fmt.Printf("%v 分钟 \n", m.Minutes())
 
h := result.Sub(result2)
fmt.Printf("%v小时 \n", h.Hours())
 
d := result.Sub(result2)
fmt.Printf("%v 天\n", d.Hours()/24)
```
> 120 分钟
2小时
0.08333333333333333 天

# 判断一个时间是否在一个时间之后

```php
stringTime, _ := time.Parse("2006-01-02 15:04:05", "2019-12-12 12:00:00")
beforeOrAfter := stringTime.After(time.Now())
 
if true == beforeOrAfter {
  fmt.Println("2019-12-12 12:00:00在当前时间之后!")
} else {
  fmt.Println("2019-12-12 12:00:00在当前时间之前!")
}
```

> 019-12-12 12: 00:00在当前时间之前!

# 判断一个时间相比另外一个时间过去了多久

```php
startTime := time.Now()
time.Sleep(time.Second * 5)
 
fmt.Println("离现在过去了：", time.Since(startTime))
```
> 离现在过去了： 5.0001761s

本文来源： http://www.52codes.net/develop/shell/59010.html