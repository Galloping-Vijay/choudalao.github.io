---
title: "PHPer的Go之路 --异常处理"
date: 2020-07-20T09:54:47+08:00
updated: 2026-02-23T16:45:41+08:00
author: "臭大佬"
categories: [Go]
description: "异常处理"
cover: "https://www.choudalao.com/uploads/20200720/vGwMyJ63xzBYzyadWj1fvhR5lzymaCwN1K4RhCHD.jpeg"
click: 2971
---

# panic

`php` 使用 `try...catch` 对异常进行捕获和处理，在 `go` 中 使用 panic 抛出。

```go
package main

import "fmt"

func main() {
	defer func() {
		fmt.Println("defer会执行")
	}()

	a := 0
	if (a == 0) {
		panic("除数是0")
	}
	c := 100 / a
	fmt.Printf("上面出现异常，不会执行到这里")
	fmt.Printf("%d", c)
}
```
![](https://www.choudalao.com/uploads/20200720/202007201119430SjvJ8.png)

# recover

在`php`中对异常的捕获和处理，避免程序崩溃，使用的是`try...catch...finally`，在`go`中，对应的实现方式是：通过 recover() 函数对 panic 进行捕获和处理，panic 的捕获和其他代码的恢复执行需要放到 defer 语句中完成。
```go
package main

import "fmt"

func main() {
	defer func() {
		if err := recover(); err != nil {
			fmt.Printf("程序执行报错了: %v\n", err)
		}
	}()
	a := 0
	if (a == 0) {
		panic("除数是0")
	}
	c := 100 / a
	fmt.Printf("上面出现异常，不会执行到这里")
	fmt.Printf("%d", c)
}

```
![](https://www.choudalao.com/uploads/20200720/20200720112006FGiS8Z.png)