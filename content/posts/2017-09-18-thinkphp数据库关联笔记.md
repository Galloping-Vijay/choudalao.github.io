---
title: "thinkPHP数据库关联笔记"
date: 2017-09-18T22:45:20+08:00
updated: 2026-02-23T05:52:14+08:00
author: "臭大佬"
categories: [php]
description: "thinkPHP数据库关联笔记"
cover: "http://www.choudalao.com/uploads/20191016/DtNKtcjjTKxnGI46faEvZi1HS3tDwbrut1EGGLNt.jpeg"
click: 2921
---

&lt;h3 data-line=&quot;111&quot; class=&quot;line&quot; microsoft=&quot;&quot; helvetica=&quot;&quot; line-height:=&quot;&quot; margin:=&quot;&quot; 0px=&quot;&quot; font-weight:=&quot;&quot; font-size:=&quot;&quot; color:=&quot;&quot; white-space:=&quot;&quot; background-color:=&quot;&quot;&gt;&lt;span&gt;thinkphp官方给的文档不好理解,尤其是belongTo和hasOne两个很常用,而且参数也差不多,我每次用thinkphp模型关联的时候都要试着打印一下结果才知道哪样写才是对的,所以在这里记录一下,方便下次用的时候查阅!&lt;/span&gt;&lt;/h3&gt;&lt;h3 data-line=&quot;111&quot; class=&quot;line&quot; microsoft=&quot;&quot; helvetica=&quot;&quot; line-height:=&quot;&quot; margin:=&quot;&quot; 0px=&quot;&quot; font-weight:=&quot;&quot; font-size:=&quot;&quot; color:=&quot;&quot; white-space:=&quot;&quot; background-color:=&quot;&quot;&gt;&lt;span&gt;定义相对的关联&amp;nbsp;belongsTo&lt;/span&gt;&lt;/h3&gt;&lt;h3 microsoft=&quot;&quot; helvetica=&quot;&quot; line-height:=&quot;&quot; margin:=&quot;&quot; font-weight:=&quot;&quot; font-size:=&quot;&quot; color:=&quot;&quot; white-space:=&quot;&quot;&gt;belongsTo('要关联模型名','外键名&lt;span&gt;(本模型中的字段)&lt;/span&gt;','关联表主键名&lt;span&gt;(要关联模型的对应字段)&lt;/span&gt;',['模型别名定义'],'join类型');&lt;/h3&gt;&lt;p&gt;&lt;span&gt;模型定义:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;pre lay-lang=&quot;JavaScript&quot;&gt;&lt;code class=&quot;JavaScript&quot;&gt;namespace app\home\model;

class News extends Base{    
   public function user()
    {
        return $this-&amp;gt;belongsTo('MemberList','news_auto', 'member_list_id');
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;控制器中调用用例:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;pre lay-lang=&quot;JavaScript&quot;&gt;&lt;code class=&quot;JavaScript&quot;&gt;namespace app\home\controller;

use think\Db;
use \app\home\model\News;

class Article extends Base
{
    public function index()
    {
        $art = News::get(41);
        echo $art-&amp;gt;user-&amp;gt;member_list_username;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;h3 data-line=&quot;111&quot; class=&quot;line&quot; microsoft=&quot;&quot; helvetica=&quot;&quot; line-height:=&quot;&quot; margin:=&quot;&quot; 0px=&quot;&quot; font-weight:=&quot;&quot; font-size:=&quot;&quot; color:=&quot;&quot; background-color:=&quot;&quot;&gt;&lt;span&gt;定义关联 hasOne&lt;/span&gt;&lt;/h3&gt;&lt;h3 microsoft=&quot;&quot; helvetica=&quot;&quot; line-height:=&quot;&quot; margin:=&quot;&quot; font-weight:=&quot;&quot; font-size:=&quot;&quot; color:=&quot;&quot; white-space:=&quot;&quot;&gt;hasOne('要关联模型名','外键名&lt;span&gt;(要关联模型的对应字段)&lt;/span&gt;' , '主键名&lt;span&gt;(本模型中的字段)&lt;/span&gt;',['模型别名定义'],'join类型');&lt;/h3&gt;&lt;p&gt;&lt;span&gt;模型定义:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;pre lay-lang=&quot;JavaScript&quot;&gt;&lt;code class=&quot;JavaScript&quot;&gt;namespace app\report\model;

class User extends BaseModel
{
    /**
     * 一对一关联Business模型
     * @return \think\model\relation\HasOne
     */
    public function business()
    {
        return $this-&amp;gt;hasOne('Business', 'id', 'business_id');
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;