<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Php - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml href=/categories/php/index.xml title=臭大佬博客><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>Php</h1></header><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-09-18-thinkphp%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E8%81%94%E7%AC%94%E8%AE%B0/ rel=bookmark>thinkPHP数据库关联笔记</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;h3 data-line="111" class="line" microsoft="" helvetica="" line-height:="" margin:="" 0px="" font-weight:="" font-size:="" color:="" white-space:="" background-color:="">&lt;span>thinkphp官方给的文档不好理解,尤其是belongTo和hasOne两个很常用,而且参数也差不多,我每次用thinkphp模型关联的时候都要试着打印一下结果才知道哪样写才是对的,所以在这里记录一下,方便下次用的时候查阅!&lt;/span>&lt;/h3>&lt;h3 data-line="111" class="line" microsoft="" helvetica="" line-height:="" margin:="" 0px="" font-weight:="" font-size:="" color:="" white-space:="" background-color:="">&lt;span>定义相对的关联&amp;nbsp;belongsTo&lt;/span>&lt;/h3>&lt;h3 microsoft="" helvetica="" line-height:="" margin:="" font-weight:="" font-size:="" color:="" white-space:="">belongsTo(&lsquo;要关联模型名&rsquo;,&lsquo;外键名&lt;span>(本模型中的字段)&lt;/span>&rsquo;,&lsquo;关联表主键名&lt;span>(要关联模型的对应字段)&lt;/span>&rsquo;,[&lsquo;模型别名定义&rsquo;],&lsquo;join类型&rsquo;);&lt;/h3>&lt;p>&lt;span>模型定义:&lt;/span>&lt;/p>&lt;p>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">namespace app\home\model;</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-09-15-php%E4%B8%AD0nullempty%E7%A9%BAfalse%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%85%B3%E7%B3%BB%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D/ rel=bookmark>php中0,null,empty,空,false,字符串关系的详细介绍</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;p>&lt;pre lay-lang="PHP">&lt;code class="PHP">// 判断 0 与 &lsquo;&rsquo;、null、empty、false 之间的关系</p><p>$a = 0;</p><p>echo "0 与 &lsquo;&rsquo;、 empty、null、false 之间的关系：";</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-09-14-phpstorm-%E8%BE%93%E5%85%A5%E6%B3%95%E4%B8%AD%E6%96%87%E4%B8%8D%E5%90%8C%E6%AD%A5-phpstorm-%E8%BE%93%E5%85%A5%E6%B3%95%E4%B8%8D%E8%B7%9F%E9%9A%8F%E5%85%89%E6%A0%87%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/ rel=bookmark>phpstorm 输入法中文不同步 phpstorm 输入法不跟随光标解决办法</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;p>&lt;span>昨天刚刚把phpstrom更新到2017.2.4，发现输入法中文输入的时候，候选字没有跟随光标移动。百度了一波,终于找到决方案。&lt;/span>&lt;/p>&lt;p>&lt;span>就是替换phpstorm安装目录下的 jre64文件夹。&lt;/span>&lt;/p>&lt;p>&lt;span>下载&amp;nbsp;&amp;nbsp;&lt;p>&lt;a target="_blank" href="https://bintray.com/jetbrains/intellij-jdk/download_file?file_path=jbsdk8u112b736.21_windows_x64.tar.gz">https://bintray.com/jetbrains/intellij-jdk/download_file?file_path=jbsdk8u112b736.21_windows_x64.tar.gz&lt;/a>&lt;/p>&lt;/span>&lt;br>&lt;span>解压更名&amp;nbsp;&lt;code class="inline-code prettyprint prettyprinted" courier="">jre64&lt;/code>&amp;nbsp; 替换掉安装目录下的jre64，注意是解压的目录直接改成jre64，不是复制其中的jre文件夹改名。&lt;br>&lt;br>替换前，原jre64目录注意备份!&lt;/span>&lt;/p>&lt;p>&lt;span>重新启动phpstorm，一切正常！谢谢前辈的总结~&lt;/span>&lt;/p>&lt;p>&lt;span>&lt;br>&lt;/span>&lt;/p>&lt;p>&lt;span>转载自&amp;nbsp;&lt;/span>&lt;a target="_blank" href="http://www.cnblogs.com/guohong-hu/p/7258014.html">http://www.cnblogs.com/guohong-hu/p/7258014.html&lt;/a>&lt;/p>&lt;p>&lt;br>&lt;/p></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-08-19-linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8Bphpmailer%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/ rel=bookmark>Linux服务器下PHPMailer发送邮件失败的问题解决</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;p>这两天一直在调试PHPMailer发送邮件功能,一直都没有找到问题所在,头都快炸了.本地环境发送邮件没有问题,之前买的虚拟空间里面用的同一套代码,发送也没有问题.但是git到阿里云lunix服务器之后,邮箱就发不了了,&lt;br>然后查浏览器的报错信息,发现这个&lt;/p>&lt;p>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c6082d79eeb.png" title="59c6082d79eeb.png" alt="59c6082d79eeb.png" _src="/data/upload/2017-09-23/59c6082d79eeb.png">&lt;/p>&lt;p>百度了一下,看了N个帖子,有的说是表单里面用了ajax提交,有的说服务器占用太高,要释放一些内存&mldr;&mldr;&lt;/p>&lt;p>各个帖子里面说的方法,我都有试一试,但是无果,最后想到了是不是我的环境问题,&lt;/p>&lt;p>首先,查看了一下,phpinfo,看看相应的扩展有没有打开:&lt;br>&lt;/p>&lt;p>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c609f25c668.png" title="59c609f25c668.png" _src="/data/upload/2017-09-23/59c609f25c668.png">&lt;/p>&lt;p>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c609f281b93.png" title="59c609f281b93.png" _src="/data/upload/2017-09-23/59c609f281b93.png">&lt;/p>&lt;p>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c609f283c36.png" title="59c609f283c36.png" _src="/data/upload/2017-09-23/59c609f283c36.png">&lt;/p>&lt;p>配置都是正常开启的,应该不是配置问题了,于是我想是不是25端口被占用了?&lt;/p>&lt;p>到xshell里面 &amp;nbsp;netstat -tnlp 一下&lt;/p>&lt;p>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c60aaa89641.png" title="59c60aaa89641.png" alt="59c60aaa89641.png" _src="/data/upload/2017-09-23/59c60aaa89641.png">&lt;/p>&lt;p>果然被占用了,查了一下,&lt;span>465端口（SMTPS）更好用,&lt;/span>&lt;/p>&lt;p>&lt;span>465端口（SMTPS）：465端口是为SMTPS（SMTP-over-SSL）协议服务开放的，这是SMTP协议基于SSL安全协议之上的一种变种协议，它继承了SSL安全协议的非对称加密的高度安全可靠性，可防止邮件泄露。SMTPS和SMTP协议一样，也是用来发送邮件的，只是更安全些，防止邮件被黑客截取泄露，还可实现邮件发送者抗抵赖功能。防止发送者发送之后删除已发邮件，拒不承认发送过这样一份邮件。&lt;/span>&lt;/p>&lt;p>&lt;span>查看端口是否开启&lt;/span>&lt;/p>&lt;p>&lt;span>xshell操作: &amp;nbsp;firewall-cmd &ndash;query-port=465/tcp&lt;/span>&lt;/p>&lt;p>&lt;span>no&amp;nbsp;&lt;/span>&lt;/p>&lt;p>&lt;span>开启: &amp;nbsp;firewall-cmd &ndash;add-port=465/tcp&lt;/span>&lt;/p>&lt;p>&lt;span>success&lt;/span>&lt;/p>&lt;p>&lt;span>截图在这里:&lt;/span>&lt;/p>&lt;p>&lt;span>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c60c0b6d8a7.png" title="59c60c0b6d8a7.png" alt="59c60c0b6d8a7.png" _src="/data/upload/2017-09-23/59c60c0b6d8a7.png">&lt;/span>&lt;/p>&lt;p>&lt;span>好的,现在修改一下代码&lt;/span>&lt;/p>&lt;p>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$mail-&amp;gt;Port = 25;&lt;/code>&lt;/pre>&lt;/p>&lt;p>&lt;span>&lt;br>&lt;/span>&lt;/p>&lt;p>改成&lt;/p>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$mail-&amp;gt;SMTPSecure = &lsquo;ssl&rsquo;;
$mail-&amp;gt;Port = 465;&lt;/code>&lt;/pre>&lt;p>&lt;br>&lt;/p>&lt;p>&lt;span>&lt;/span>测试结果&lt;br>&lt;img src="http://www.yuemeet.com/data/upload/2017-09-23/59c60d7c55873.png" title="59c60d7c55873.png" alt="59c60d7c55873.png" _src="/data/upload/2017-09-23/59c60d7c55873.png">&lt;/p>&lt;p>OK,被这个问题烦了两天,今天终于解决了!!!&lt;/p>&lt;p>总结一下,这问题为什么会困扰我这么久呢?&lt;/p>&lt;p>归根结底是我对linux不够熟悉,好好补知识吧,linux在以后的工作中是必不可少的!&lt;/p></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-06-01-php%E4%B9%8Bget_class-%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%B1%BB%E5%90%8D/ rel=bookmark>PHP之get_class — 返回对象的类名</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;p>&lt;span class="type" fira="" source="" code="" letter-spacing:="" word-spacing:="">string&lt;/span>&lt;span fira="" source="" code="" letter-spacing:="" word-spacing:="" background-color:="">&amp;nbsp;&lt;/span>&lt;span class="methodname" fira="" source="" code="" letter-spacing:="" word-spacing:="">&lt;span>get_class&lt;/span>&lt;/span>&lt;span fira="" source="" code="" letter-spacing:="" word-spacing:="" background-color:="">&amp;nbsp;([&amp;nbsp;&lt;/span>&lt;span class="methodparam" fira="" source="" code="" letter-spacing:="" word-spacing:="">&lt;span class="type">object&lt;/span>&amp;nbsp;&lt;code class="parameter" fira="" source="" code="" word-wrap:="" color:="" cursor:="" letter-spacing:="" word-spacing:="" margin:="">$object&lt;/code>&lt;span class="initializer">&amp;nbsp;=&amp;nbsp;&lt;span>&lt;code fira="" source="" code="" word-wrap:="" letter-spacing:="" word-spacing:="" margin:="">NULL&lt;/code>&lt;/span>&lt;/span>&lt;/span>&lt;span fira="" source="" code="" letter-spacing:="" word-spacing:="" background-color:="">&amp;nbsp;] )&lt;/span>&lt;/p>&lt;p>&lt;span fira="" source="" code="" letter-spacing:="" word-spacing:="" background-color:="">&lt;span fira="" source="" sans="" background-color:="">返回对象实例&amp;nbsp;&lt;/span>&lt;code class="parameter" fira="" source="" code="" word-wrap:="" color:="" cursor:="" white-space:="" background-color:="">object&lt;/code>&lt;span fira="" source="" sans="" background-color:="">&amp;nbsp;所属类的名字。&lt;/span>&lt;/span>&lt;/p>&lt;p>&lt;span fira="" source="" code="" letter-spacing:="" word-spacing:="" background-color:="">&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">class Car
{
function getName()
{
echo "My name is " . get_class() . "&lt;br>";
echo "My name is " . get_class($this) . "&lt;br>";
}
}</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-05-07-php%E7%94%9F%E6%88%90%E4%B8%8D%E9%87%8D%E5%A4%8D%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/ rel=bookmark>PHP生成不重复随机数的方法汇总</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;p>&amp;nbsp; 本文汇总了5种生成不重复随机数的方法，其中方法一、二、三是本人常用的方法，方法四五来至度娘。其余方法还是有的，也欢迎大家将遗漏的方法告之，大家共同进步&lt;/p>&lt;p>&lt;br>&lt;/p>&lt;p>&lt;strong>&lt;span>方法一：&lt;/span>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$numbers = range (1,50);
//shuffle 将数组顺序随即打乱
shuffle ($numbers);
//array_slice 取该数组中的某一段
$num=6;
$result = array_slice($numbers,0,$num);
print_r($result);&lt;/code>&lt;/pre>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;span>&lt;/span>&lt;/strong>&lt;strong>&lt;span>方法二：&lt;/span>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$numbers = range (1,20);
//播下随机数发生器种子，可有可无，测试后对结果没有影响
srand ((float)microtime()*1000000);
shuffle ($numbers);
//跳过list第一个值（保存的是索引）
while (list(, $number) = each ($numbers)) {
echo "$number ";
}&lt;/code>&lt;/pre>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;span>&lt;/span>&lt;/strong>&lt;strong>&lt;span>方法三：&lt;/span>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">function NoRand($begin=0,$end=20,$limit=5){
$rand_array=range($begin,$end);
shuffle($rand_array);//调用现成的数组随机排列函数
return array_slice($rand_array,0,$limit);//截取前$limit个
}
print_r(NoRand());&lt;/code>&lt;/pre>&lt;/strong>&lt;/p>&lt;p>&lt;span>&lt;span>&lt;/span>&lt;/span>&lt;strong>&lt;span>方法四：&lt;/span>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$tmp=array();
while(count($tmp)&amp;lt;5){
$tmp[]=mt_rand(1,20);
$tmp=array_unique($tmp);
}
print_r($tmp);&lt;/code>&lt;/pre>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;span>&lt;/span>&lt;/strong>&lt;strong>&lt;span>方法五&lt;strong>：&lt;/strong>&lt;/span>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;span>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$tmp = range(1,30);
print_r(array_rand($tmp,10));&lt;/code>&lt;/pre>&lt;/span>&lt;/strong>&lt;/p>&lt;p>&lt;strong>&lt;span>&lt;strong>&lt;/strong>&lt;/span>&lt;/strong>&lt;br>&lt;/p>&lt;p>&lt;strong>&lt;span>&lt;/span>&lt;/strong>&lt;/p>&lt;p>&amp;nbsp; 这个可能是比叫简单的了（ps:如果在range中指定了步长，就必须注意array_rand的第二个参数是否超出$tmp的长度）。&lt;/p>&lt;p>&amp;nbsp; PHP提供非常丰富的数组函数，产生随机数大多可以从数组这个角度出发，当然如果你有更好的方法，也请告之，本文也算是抛砖引玉了。&lt;/p>&lt;p>&lt;br>&lt;/p></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2017-05-06-php%E5%BE%88%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ rel=bookmark>php很常用的正则表达式</a></h2></header><div class="content list__excerpt post__content clearfix"><p>&lt;p microsoft="" helvetica="" font-size:="" line-height:="" background-color:="">&lt;span>判断一个字符串是不是邮箱或者手机号码&lt;/span>&lt;/p>&lt;p microsoft="" helvetica="" font-size:="" line-height:="" background-color:="">&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript">$data = &lsquo;<a href=mailto:1@qq.com>1@qq.com</a>&rsquo;;
if (preg_match("/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/i", $data)) {
echo "是邮箱";
}elseif (preg_match(&rsquo;#^13[\d]{9}$|^14[5,7]{1}\d{8}$|^15[^4]{1}\d{8}$|^17[0,6,7,8]{1}\d{8}$|^18[\d]{9}$#&rsquo;, $data)) {
echo &lsquo;是手机号码&rsquo;;
} else {
echo &lsquo;都不是!&rsquo;;
}&lt;/code>&lt;/pre>&lt;/p>&lt;p microsoft="" helvetica="" font-size:="" line-height:="" background-color:="">&lt;br>&lt;/p></p></div></article></main><div class=pagination><a class="pagination__item pagination__item--prev btn" href=/categories/php/page/8/>«</a>
<span class="pagination__item pagination__item--current">9/9</span></div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>