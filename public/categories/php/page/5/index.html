<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Php - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml href=/categories/php/index.xml title=臭大佬博客><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>Php</h1></header><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-12-04-laravel%E4%BC%A0%E9%80%92%E5%88%86%E9%A1%B5%E5%8F%82%E6%95%B0/ rel=bookmark>laravel传递分页参数</a></h2></header><div class="content list__excerpt post__content clearfix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span>$commentArray <span style=color:#f92672>=</span> <span style=color:#a6e22e>Comment</span><span style=color:#f92672>::</span><span style=color:#a6e22e>leftJoin</span>(<span style=color:#e6db74>&#39;users&#39;</span>, <span style=color:#e6db74>&#39;users.id&#39;</span>, <span style=color:#e6db74>&#39;=&#39;</span>, <span style=color:#e6db74>&#39;comments.user_id&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>where</span>([
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#39;comments.article_id&#39;</span>, <span style=color:#e6db74>&#39;=&#39;</span>, $art_id],
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#39;comments.status&#39;</span>, <span style=color:#e6db74>&#39;=&#39;</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#39;comments.type&#39;</span>, <span style=color:#e6db74>&#39;=&#39;</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>[<span style=color:#e6db74>&#39;comments.pid&#39;</span>, <span style=color:#e6db74>&#39;=&#39;</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>])<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>select</span>(<span style=color:#e6db74>&#39;comments.id&#39;</span>, <span style=color:#e6db74>&#39;comments.pid&#39;</span>, <span style=color:#e6db74>&#39;comments.content&#39;</span>, <span style=color:#e6db74>&#39;comments.created_at&#39;</span>, <span style=color:#e6db74>&#39;comments.user_id&#39;</span>, <span style=color:#e6db74>&#39;users.name&#39;</span>, <span style=color:#e6db74>&#39;users.avatar&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>orderBy</span>(<span style=color:#e6db74>&#39;comments.created_at&#39;</span>, <span style=color:#e6db74>&#39;desc&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>paginate</span>($comment_limit, [<span style=color:#e6db74>&#39;*&#39;</span>], <span style=color:#e6db74>&#39;comment_page&#39;</span>, $comment_page);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//comment_limit =5;//限制5条
</span></span></span><span style=display:flex><span><span style=color:#75715e>//comment_page = 1; //第一页
</span></span></span></code></pre></div></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-12-01-laravel%E5%AE%9E%E7%8E%B0%E6%B3%A8%E5%86%8C%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81%E5%8A%9F%E8%83%BD/ rel=bookmark>laravel实现注册邮箱验证功能</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=起因>起因</h1><p>在做臭大佬前端用户注册的时候，为了实现邮箱验证功能，需要实现发送邮件验证功能，其中就有发送倒计时的功能，截图如下：
<img src=https://www.choudalao.com/uploads/20191201/20191201211737uMK3oO.png alt></p><h1 id=流程>流程</h1><ul><li>用户填写邮箱；</li><li>验证邮箱是否唯一；</li><li>发送验证码；</li><li>开始倒计时；</li><li>填写验证码注册。</li></ul><h1 id=路由>路由</h1><h4 id=发送验证码的路由>发送验证码的路由</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>//发送邮件
</span></span><span style=display:flex><span>Route::post<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/tools/getEmailCode&#39;</span>, <span style=color:#e6db74>&#39;Home\ToolsController@getEmailCode&#39;</span><span style=color:#f92672>)</span>;
</span></span></code></pre></div><h4 id=注册提交>注册提交</h4><p>我们使用auth自带的注册</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-30-laravel-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%AF%AD%E8%A8%80%E5%8C%85/ rel=bookmark>laravel 安装中文语言包</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=安装>安装</h1><p>composer 安装</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>composer require <span style=color:#e6db74>&#34;overtrue/laravel-lang:~3.0&#34;</span>
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20191130/20191130211606njavY2.png alt></p><h1 id=修改-configappphp-配置文件>修改 config/app.php 配置文件</h1><p>将Illuminate\Translation\TranslationServiceProvider::class, 替换为 Overtrue\LaravelLang\TranslationServiceProvider::class,，然后将 &rsquo;locale&rsquo; => &rsquo;en&rsquo;, 修改成 &rsquo;locale&rsquo; => &lsquo;zh-CN&rsquo;,
<img src=https://www.choudalao.com/uploads/20191130/20191130211802Z4lF1E.png alt>
![]<img src=https://www.choudalao.com/uploads/20191130/20191130212004cuNAgA.png alt></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-20-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8/ rel=bookmark>匿名函数的使用</a></h2></header><div class="content list__excerpt post__content clearfix"><p>几行代码解决一坨一坨的代码问题,哈哈哈
修改前</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span> $api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;white_api&#39;</span>, <span style=color:#e6db74>&#39;WhiteApiController@index&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;white_api&#39;</span>, <span style=color:#e6db74>&#39;WhiteApiController@store&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>patch</span>(<span style=color:#e6db74>&#39;white_api/{whiteApi}&#39;</span>, <span style=color:#e6db74>&#39;WhiteApiController@update&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;white_api/{id}&#39;</span>, <span style=color:#e6db74>&#39;WhiteApiController@show&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>delete</span>(<span style=color:#e6db74>&#39;white_api&#39;</span>, <span style=color:#e6db74>&#39;WhiteApiController@destroy&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;white_list&#39;</span>, <span style=color:#e6db74>&#39;WhiteListController@index&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;white_list&#39;</span>, <span style=color:#e6db74>&#39;WhiteListController@store&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>patch</span>(<span style=color:#e6db74>&#39;white_list/{WhiteList}&#39;</span>, <span style=color:#e6db74>&#39;WhiteListController@update&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;white_list/{id}&#39;</span>, <span style=color:#e6db74>&#39;WhiteListController@show&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>delete</span>(<span style=color:#e6db74>&#39;white_list&#39;</span>, <span style=color:#e6db74>&#39;WhiteListController@destroy&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//或有n个这种相同的东西
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>....</span>
</span></span></code></pre></div><p>修改后</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span>$fun <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> ($url_name, $contr_name) <span style=color:#66d9ef>use</span> ($api) {
</span></span><span style=display:flex><span>$controller <span style=color:#f92672>=</span> $contr_name <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;Controller&#39;</span>;
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>($url_name, $controller <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;@index&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>post</span>($url_name, $controller <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;@store&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>patch</span>($url_name <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;/{&#39;</span> <span style=color:#f92672>.</span> $contr_name <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;}&#39;</span>, $controller <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;@update&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>($url_name <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;/{id}&#39;</span>, $controller <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;@show&#39;</span>);
</span></span><span style=display:flex><span>$api<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>delete</span>($url_name, $controller <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;@destroy&#39;</span>);
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//白名单接口操作
</span></span></span><span style=display:flex><span>$fun(<span style=color:#e6db74>&#39;white_api&#39;</span>,<span style=color:#e6db74>&#39;WhiteApi&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//IP白名单
</span></span></span><span style=display:flex><span>$fun(<span style=color:#e6db74>&#39;white_list&#39;</span>,<span style=color:#e6db74>&#39;WhiteList&#39;</span>);
</span></span></code></pre></div></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-18-laravel%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/ rel=bookmark>laravel常用命令</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=控制器>控制器</h1><p>普通</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>php artisan make:controller PhotoController 
</span></span></code></pre></div><p>资源</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>php artisan make:controller PhotoController --resource
</span></span></code></pre></div><p>api</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>php artisan make:controller PhotoController --api
</span></span></code></pre></div><p>#模型</p><p>模型</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>php artisan make:model User
</span></span></code></pre></div><h1 id=创建迁移>创建迁移</h1><p>使用 make:migration Artisan 命令来创建迁移：
添加</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>php</span> <span style=color:#a6e22e>artisan</span> <span style=color:#a6e22e>make</span><span style=color:#f92672>:</span><span style=color:#a6e22e>migration</span> <span style=color:#a6e22e>create_users_table</span>  <span style=color:#f92672>--</span><span style=color:#a6e22e>create</span><span style=color:#f92672>=</span><span style=color:#a6e22e>users</span>
</span></span></code></pre></div><p>修改</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-java data-lang=java><span style=display:flex><span>php artisan make:migration add_votes_to_users_table <span style=color:#f92672>--</span>table<span style=color:#f92672>=</span>users
</span></span></code></pre></div><p> </p><h1 id=迁移结构>迁移结构</h1><p>up方法里面</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-java data-lang=java><span style=display:flex><span> <span style=color:#66d9ef>public</span> function <span style=color:#a6e22e>up</span>()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        Schema::create(<span style=color:#960050;background-color:#1e0010>&#39;</span>flights<span style=color:#960050;background-color:#1e0010>&#39;</span>, function (Blueprint $table) {
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span>bigIncrements(<span style=color:#960050;background-color:#1e0010>&#39;</span>id<span style=color:#960050;background-color:#1e0010>&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span>string(<span style=color:#960050;background-color:#1e0010>&#39;</span>name<span style=color:#960050;background-color:#1e0010>&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span>string(<span style=color:#960050;background-color:#1e0010>&#39;</span>airline<span style=color:#960050;background-color:#1e0010>&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span>timestamps();
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p> </p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-17-laravel%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%AC%94%E8%AE%B0%E4%BA%8C-jwt-auth%E5%A4%9A%E8%A7%92%E8%89%B2%E8%AE%A4%E8%AF%81/ rel=bookmark>laravel前后端分离笔记二 -- jwt-auth多角色认证</a></h2></header><div class="content list__excerpt post__content clearfix"><p>前台用户功能我们已经基本完成，下面按照前台，搭建后台管理admin相应的功能。</p><h1 id=数据迁移>数据迁移</h1><p>里面的字段我们按照users的</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>php artisan make:migration create_admins_table
</span></span></code></pre></div><p>填充字段</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span>  <span style=color:#f92672>*/</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>up</span>()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Schema</span><span style=color:#f92672>::</span><span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#39;admins&#39;</span>, <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>Blueprint</span> $table) {
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>bigIncrements</span>(<span style=color:#e6db74>&#39;id&#39;</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>comment</span>(<span style=color:#e6db74>&#39;用户表&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>string</span>(<span style=color:#e6db74>&#39;name&#39;</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>comment</span>(<span style=color:#e6db74>&#39;用户昵称&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;last_token&#39;</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>comment</span>(<span style=color:#e6db74>&#39;登陆时的token&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>tinyInteger</span>(<span style=color:#e6db74>&#39;status&#39;</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>default</span>(<span style=color:#e6db74>&#39;0&#39;</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>comment</span>(<span style=color:#e6db74>&#39;用户状态 -1代表已删除 0代表正常 1代表冻结&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>string</span>(<span style=color:#e6db74>&#39;email&#39;</span>,<span style=color:#ae81ff>150</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>unique</span>();
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>timestamp</span>(<span style=color:#e6db74>&#39;email_verified_at&#39;</span>)<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>nullable</span>();
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>string</span>(<span style=color:#e6db74>&#39;password&#39;</span>);
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>rememberToken</span>();
</span></span><span style=display:flex><span>            $table<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>timestamps</span>();
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20191117/20191117213200DRiK23.png alt></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-17-laravel%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%AC%94%E8%AE%B0%E4%BA%8C-jwt-auth/ rel=bookmark>laravel前后端分离笔记二 -- jwt-auth</a></h2></header><div class="content list__excerpt post__content clearfix"><p>jwt-auth 的详细介绍分析可以看 JWT 超详细分析这篇文章，具体使用可以看 <a href=https://learnku.com/articles/17883 title="JWT 完整使用详解">JWT 完整使用详解</a> 这篇文章。</p><h1 id=安装>安装</h1><h2 id=composer拉取>composer拉取</h2><p> </p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>composer</span> <span style=color:#66d9ef>require</span> <span style=color:#a6e22e>tymon</span><span style=color:#f92672>/</span><span style=color:#a6e22e>jwt</span><span style=color:#f92672>-</span><span style=color:#a6e22e>auth</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>rc</span><span style=color:#f92672>.</span><span style=color:#ae81ff>3</span>
</span></span></code></pre></div><h2 id=发布配置文件>发布配置文件</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>php</span> <span style=color:#a6e22e>artisan</span> <span style=color:#a6e22e>vendor</span><span style=color:#f92672>:</span><span style=color:#a6e22e>publish</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>provider</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Tymon\JWTAuth\Providers\LaravelServiceProvider&#34;</span>
</span></span></code></pre></div><p>此命令会在 config 目录下生成一个 jwt.php 配置文件，你可以在此进行自定义配置。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-16-laravel%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E7%94%A8%E4%BE%8B/ rel=bookmark>laravel任务调度+命令行+邮件发送用例</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=起因>起因</h1><p>最近想把<a href=https://www.choudalao.com title=臭大佬>臭大佬</a>的seo搞起来，所以想让百度更好的收录网站：
<img src=https://www.choudalao.com/uploads/20191116/20191116213146kua9GE.png alt>
主动推送和自动推送是互补的，在自动推送的同时，想实现一个主动推送的功能，这里我的思路是利用laravel的<strong>任务调度</strong>+<strong>Artisan命令</strong>+<strong>邮件系统</strong>去实现</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-15-invalidargumentexception-please-provide-a-valid-cache-path/ rel=bookmark>InvalidArgumentException Please provide a valid cache path</a></h2></header><div class="content list__excerpt post__content clearfix"><p>InvalidArgumentException：Please provide a valid cache path</p><p><img src=https://www.choudalao.com/uploads/20191115/20191115164331Ckk1Bz.png alt></p><p><img src=https://www.choudalao.com/uploads/20191115/20191115164359Fw8ljB.png alt></p><p>这是因为laravel的缓存路径没有找到</p><p>laravel缓存文件路径是在 config/cache.php中设置，默认存在storage文件夹中</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2019-11-15-laravel%E4%B8%AD%E8%B7%AF%E7%94%B1%E9%97%AE%E9%A2%98/ rel=bookmark>laravel中路由问题</a></h2></header><div class="content list__excerpt post__content clearfix"><p>今天在调试API接口的时候，遇到一个奇怪的问题，之前在做游戏盾的时候其实也遇到过，说明这个问题还是挺常见的，所以，今天记录一下：</p><h1 id=问题>问题</h1><p>当laravel路由中两个路由前缀相同，一个后面带参数，一个后面是跟路径，这个时候，如果带参数的写在前面，后面
例如：</p></div></article></main><div class=pagination><a class="pagination__item pagination__item--prev btn" href=/categories/php/page/4/>«</a>
<span class="pagination__item pagination__item--current">5/9</span>
<a class="pagination__item pagination__item--next btn" href=/categories/php/page/6/>»</a></div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>