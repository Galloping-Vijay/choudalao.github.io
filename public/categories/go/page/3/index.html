<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Go - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/choudalao.github.io/css/style.css><link rel=alternate type=application/rss+xml href=/choudalao.github.io/categories/go/index.xml title=臭大佬博客><link rel="shortcut icon" href=/choudalao.github.io/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/choudalao.github.io/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/choudalao.github.io/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>Go</h1></header><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2022-05-28-gin%E6%A1%86%E6%9E%B6%E5%85%B3%E9%97%AD%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA/ rel=bookmark>gin框架关闭控制台输出</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=代码>代码</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io/ioutil&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 禁止Gin的控制台输出</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>SetMode</span>(<span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>ReleaseMode</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>DefaultWriter</span> = <span style=color:#a6e22e>ioutil</span>.<span style=color:#a6e22e>Discard</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>Default</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>GET</span>(<span style=color:#e6db74>&#34;/ping&#34;</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>c</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>Context</span>) {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>JSON</span>(<span style=color:#ae81ff>200</span>, <span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>H</span>{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;message&#34;</span>: <span style=color:#e6db74>&#34;pong&#34;</span>,
</span></span><span style=display:flex><span>		})
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Run</span>() <span style=color:#75715e>// listen and serve on 0.0.0.0:8080</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>关键代码</p><blockquote><p>gin.SetMode(gin.ReleaseMode)
gin.DefaultWriter = ioutil.Discard</p></blockquote></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2022-04-28-linux-%E4%B8%8B%E5%AE%89%E8%A3%85go/ rel=bookmark>Linux 下安装go</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=下载>下载</h1><p>安装包下载地址为：https://golang.org/dl/。</p><p>如果打不开可以使用这个地址：https://golang.google.cn/dl/。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2022-04-19-go-%E8%AF%AD%E8%A8%80%E6%8A%8A-html-%E5%AE%9E%E4%BD%93%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6/ rel=bookmark>go 语言把 HTML 实体转换为字符</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=代码>代码</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;html&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>htmls</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;&lt;p&gt;sfdfg&lt;/p&gt;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&lt;p&gt;&lt;img src=</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>http://localhost:8181/static/upload/image.png</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74> alt=</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74>image.png</span><span style=color:#ae81ff>\&#34;</span><span style=color:#e6db74> /&gt;&lt;/p&gt;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>html</span><span style=color:#f92672>.</span><span style=color:#a6e22e>EscapeString</span>(<span style=color:#a6e22e>htmls</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>us</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>html</span><span style=color:#f92672>.</span><span style=color:#a6e22e>UnescapeString</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>s</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>us</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>//&amp;lt;p&amp;gt;sfdfg&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;img src=&amp;#34;http://localhost:8181/static/upload/image.png&amp;#34; alt=&amp;#34;image.png&amp;#34; /&amp;gt;&amp;lt;/p&amp;gt;
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>//&lt;p&gt;sfdfg&lt;/p&gt;&lt;p&gt;&lt;img src=&#34;http://localhost:8181/static/upload/image.png&#34;  alt=&#34;image.png&#34; /&gt;&lt;/p&gt;
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2022-04-16-golang-%E8%AF%AD%E8%A8%80-if-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E4%B8%AD%E5%AE%9A%E4%B9%89%E5%92%8C%E8%B5%8B%E5%80%BC%E7%9A%84%E5%8F%98%E9%87%8F%E6%98%AF%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F/ rel=bookmark>GoLang 语言 if 条件判断中定义和赋值的变量是临时变量</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>本来想优化一下代码，写法如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>page</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>art</span>.<span style=color:#a6e22e>GetInt</span>(<span style=color:#e6db74>&#34;page&#34;</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span><span style=color:#a6e22e>page</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>limit</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>art</span>.<span style=color:#a6e22e>GetInt</span>(<span style=color:#e6db74>&#34;limit&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>offset</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>page</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>limit</span>
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20220416/20220416005502NxgigC.png alt></p><p>编辑器提示<code>page</code>变量存在异常，在执行过程中也会报错，百思不得其解，查资料后才知道，原来啊，<code>if</code> 条件中的变量是临时的，值存在于当前 <code>if esle</code>语句内，外部是读取不到的。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2021-09-17-go-%E4%B8%8B%E8%BD%BD%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87%E6%88%96%E6%96%87%E4%BB%B6/ rel=bookmark>Go 下载网络图片或文件</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=代码>代码</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;bufio&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;path&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>imgPath</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;D:\\static\\uploadfile\\&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>imgUrl</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;https://fanqie.ihuizong.cn/shopUuid_/fc616d29-a6e3-49a2-9045-3720c1770368.mp4&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fileName</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>pathPack</span>.<span style=color:#a6e22e>Base</span>(<span style=color:#a6e22e>imgUrl</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>imgUrl</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;A error occurred!&#34;</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 获得get请求响应的reader对象</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reader</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewReaderSize</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>, <span style=color:#ae81ff>32</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1024</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Create</span>(<span style=color:#a6e22e>imgPath</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fileName</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		panic(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 获得文件的writer对象</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>writer</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bufio</span>.<span style=color:#a6e22e>NewWriter</span>(<span style=color:#a6e22e>file</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>written</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Copy</span>(<span style=color:#a6e22e>writer</span>, <span style=color:#a6e22e>reader</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Total length: %d&#34;</span>, <span style=color:#a6e22e>written</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-12-13-go-%E9%81%8D%E5%8E%86%E7%BB%93%E6%9E%84%E4%BD%93-%E8%87%AD%E5%A4%A7%E4%BD%AC/ rel=bookmark>go 遍历结构体 | 臭大佬</a></h2></header><div class="content list__excerpt post__content clearfix"><p>代码如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;reflect&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>type</span> <span style=color:#a6e22e>Tags</span> <span style=color:#a6e22e>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>   <span style=color:#a6e22e>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Name</span> <span style=color:#a6e22e>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>tag</span> <span style=color:#a6e22e>Tags</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tag</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ID</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tag</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;魏花花&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>typeInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>reflect</span><span style=color:#f92672>.</span><span style=color:#a6e22e>TypeOf</span>(<span style=color:#a6e22e>tag</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>valInfo</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>reflect</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ValueOf</span>(<span style=color:#a6e22e>tag</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>num</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>typeInfo</span><span style=color:#f92672>.</span><span style=color:#a6e22e>NumField</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>num</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>key</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>typeInfo</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Field</span>(<span style=color:#a6e22e>i</span>)<span style=color:#f92672>.</span><span style=color:#a6e22e>Name</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>val</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>valInfo</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Field</span>(<span style=color:#a6e22e>i</span>)<span style=color:#f92672>.</span><span style=color:#66d9ef>Interface</span>()
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T --- %v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>key</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%T --- %v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>val</span>, <span style=color:#a6e22e>val</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>~：go run index.go
0
string &mdash; ID
int &mdash; 1
1
string &mdash; Name
string &mdash; 魏花花</p></blockquote></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-11-23-go-%E8%AF%AD%E8%A8%80%E4%B8%AD%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/ rel=bookmark>go 语言中代码执行流程</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=说明>说明</h1><p><code>Go</code>程序是通过<code>package</code>来组织的,每个可独立运行的程序都需要包含一个<code>main</code>包，它在编译之后会生成可执行文件；在这个main包中必定包含一个入口函数main,这个函数既没有参数，也没有返回值。 Go 程序中通常包含：包、常量、变量、init()、main()等元素，如果同时存在多个包，包之间存在依赖关系，每个包中存在多个 init 函数，每个文件中存在一个 init 函数，那么问题来了，他们之间的执行顺序是什么样的？通过本文我们来对它们之间的执行顺序做尽可能详尽的说明。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-11-22-go-%E5%AF%BC%E5%85%A5%E5%8C%85%E7%9A%84%E5%87%A0%E7%A7%8D%E5%86%99%E6%B3%95/ rel=bookmark>go 导入包的几种写法</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>go 在引入包的时候经常能看到以下几种写法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/astaxie/beego&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span><span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span> <span style=color:#e6db74>&#34;blogApi/routers&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;blogApi/models&#34;</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h1 id=解释>解释</h1><p><strong>f"fmt"</strong> ：表示别名，使用别名后
<code>fmt.Println("hello world")</code>可以写成<code>f.Println("hello world")</code></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-11-20-go-%E6%96%B9%E6%B3%95%E4%BC%A0%E5%85%A5%E6%8C%87%E9%92%88/ rel=bookmark>go 方法传入指针</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>在 go 中，经常看到方法传递的参数中带有 * ，也就是指针。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>func</span> (<span style=color:#a6e22e>base</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BaseController</span>) <span style=color:#a6e22e>IsPost</span>() <span style=color:#a6e22e>bool</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>base</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Ctx</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Request</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Method</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;POST&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>上面的栗子中：<code>base *BaseController</code> 用到了指针变量。</p><p>这是因为 Go 语言面向对象编程不像 PHP、Java 那样支持隐式的 this 指针，所有的东西都是显式声明的。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-11-19-go-%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C/ rel=bookmark>Go 时间操作</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=获取当前时间>获取当前时间</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>dateTime</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Now：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>dateTime</span>)
</span></span></code></pre></div><blockquote><p>Now：2022-05-27 16 : 29:28.7851174 +0800 CST m=+0.002545801</p></blockquote><h1 id=获取当前时间戳>获取当前时间戳</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>timeUnix</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()<span style=color:#f92672>.</span><span style=color:#a6e22e>Unix</span>() <span style=color:#75715e>//单位秒
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;单位秒：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>timeUnix</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>timeUnixNano</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()<span style=color:#f92672>.</span><span style=color:#a6e22e>UnixNano</span>() <span style=color:#75715e>//单位纳秒
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;单位纳秒：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>timeUnixNano</span>)
</span></span></code></pre></div><blockquote><p>单位秒：1653640239
单位纳秒：1653640239649865000</p></blockquote><h1 id=将时间格式化>将时间格式化</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>formatTime</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()<span style=color:#f92672>.</span><span style=color:#a6e22e>Format</span>(<span style=color:#e6db74>&#34;2006-01-02 15:04:05&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;格式化：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>formatTime</span>)
</span></span></code></pre></div><blockquote><p>格式化：2022-05-27 16 : 31:44</p></div></article></main><div class=pagination><a class="pagination__item pagination__item--prev btn" href=/choudalao.github.io/categories/go/page/2/>«</a>
<span class="pagination__item pagination__item--current">3/7</span>
<a class="pagination__item pagination__item--next btn" href=/choudalao.github.io/categories/go/page/4/>»</a></div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/choudalao.github.io/js/menu.js></script></body></html>