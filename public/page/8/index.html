<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta name="generator" content="Hugo 0.156.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>臭大佬博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="技术博客">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="alternate" type="application/rss+xml" href="/index.xml" title="臭大佬博客">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="臭大佬博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">臭大佬博客</div>
					
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">菜单</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">首页</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/">
				
				<span class="menu__text">归档</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">关于</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main list" role="main">
	<article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2022-03-29-redirecting-to-httpsopenweinqqcom/" rel="bookmark">
			Redirecting to https://open.wein.qq.com/...
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<h1 id="问题">问题</h1>
<p>在用<code>Easywechat</code> 做微信授权登录的时候，发现会请求两次<code>https://open.weixin.qq.com/connect/oauth2/authorize</code>,</p>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2022-03-29-%E4%BF%AE%E6%94%B9win11%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/" rel="bookmark">
			修改win11右键菜单
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<h1 id="描述">描述</h1>
<p>前段时间把电脑升级成了win11，发现里面有好多反人类的设计，就比如说右键菜单，</p>
<p><img src="https://www.choudalao.com/uploads/20220329/20220329125612bzlxhL.png" alt=""></p>
<p>很多功能都藏在&quot;显示更多选项&quot;中，操作起来很不方便，忍无可忍啊，于是乎，就想把它弄回win10那种风格，在网上找到一段神奇的代码，执行完就ok。不多说，直接上代码。</p>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2022-01-11-curl%E8%AF%B7%E6%B1%82%E4%B8%ADcurlopt_postfields%E5%8F%AA%E6%94%AF%E6%8C%81%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84/" rel="bookmark">
			cURL请求中CURLOPT_POSTFIELDS只支持一维数组
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<h1 id="post参数">POST参数</h1>
<p>使用 <code>CURL</code> 并且参数为数据时，向服务器提交数据的时候，<code>HTTP</code>头会发送<code>Content_type: application/x-www-form-urlencoded</code>。这个是正常的网页<code>&lt;form&gt;</code>提交表单时，浏览器发送的头部。而 <code>multipart/form-data</code> 我们知道这是用于上传文件的表单。包括了 <code>boundary</code> 分界符，会多出很多字节。</p>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2022-01-10-redis-%E8%AE%BE%E7%BD%AE%E5%A4%96%E9%83%A8%E8%AE%BF%E9%97%AE/" rel="bookmark">
			redis 设置外部访问
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<h1 id="配置">配置</h1>
<h1 id="放开对应安全组中redis端口">放开对应安全组中Redis端口</h1>
<p>在各大平台中把<code>redis</code>的端口加入安全组开放列表中。</p>
<h1 id="修改-redis-配置">修改 redis 配置</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e"># 设置密码
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">requirepass</span> <span style="color:#ae81ff">12345</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 注释掉bind
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#bind 127.0.0.1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"># 默认不是守护进程方式运行，这里可以修改
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">daemonize</span> <span style="color:#a6e22e">no</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 禁用保护模式 把 yes 改成 no
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">protected</span><span style="color:#f92672">-</span><span style="color:#a6e22e">mode</span> <span style="color:#a6e22e">no</span>
</span></span></code></pre></div><h1 id="启动redis">启动Redis</h1>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2021-12-28-php-%E7%9A%84-curl-%E5%B9%B6%E5%8F%91%E8%AF%B7%E6%B1%82/" rel="bookmark">
			php 的 curl 并发请求
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<p>并发请求</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> 	<span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * 多线程检测
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Date: 2021/12/15
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Time: 23:58
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @param array $arr 数组
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @param int $timeout
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @return mixed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">curlMulCheck</span>(<span style="color:#a6e22e">string</span> $url,<span style="color:#66d9ef">array</span> $arr,<span style="color:#a6e22e">int</span> $timeout <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $header <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>        $header[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Accept: image/gif, image/jpeg, image/pjpeg, image/pjpeg, application/x-ms-application, application/x-ms-xbap, application/vnd.ms-xpsdocument, application/xaml+xml, */*&#39;</span>;
</span></span><span style="display:flex;"><span>        $header[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Connection: Keep-Alive&#39;</span>;
</span></span><span style="display:flex;"><span>        $header[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Accept-Language: zh-cn&#39;</span>;
</span></span><span style="display:flex;"><span>        $header[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Cache-Control: no-cache&#39;</span>;
</span></span><span style="display:flex;"><span>        $mh <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_multi_init</span>(); <span style="color:#75715e">//创建多个curl语柄
</span></span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> ($arr <span style="color:#66d9ef">as</span> $k <span style="color:#f92672">=&gt;</span> $v) {
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">// 假设每个值是传递的id
</span></span></span><span style="display:flex;"><span>			$url <span style="color:#f92672">=</span> $url<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;?id=&#39;</span><span style="color:#f92672">.</span>$v;
</span></span><span style="display:flex;"><span>            $conn[$k] <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_init</span>($url);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">stripos</span>($url, <span style="color:#e6db74">&#34;https://&#34;</span>) <span style="color:#f92672">!==</span> <span style="color:#66d9ef">FALSE</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_SSL_VERIFYPEER</span>, <span style="color:#66d9ef">FALSE</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_SSL_VERIFYHOST</span>, <span style="color:#66d9ef">FALSE</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_SSLVERSION</span>, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_HEADER</span>, <span style="color:#66d9ef">true</span>); <span style="color:#75715e">//如果不为 true, 只会获得响应的正文
</span></span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_TIMEOUT</span>, $timeout); <span style="color:#75715e">//设置超时时间
</span></span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_HTTPHEADER</span>, $header);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_FOLLOWLOCATION</span>, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_RETURNTRANSFER</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_REFERER</span>, $url);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_setopt</span>($conn[$k], <span style="color:#a6e22e">CURLOPT_USERAGENT</span>, <span style="color:#e6db74">&#39;Mozilla/5.0 (iPhone; CPU iPhone OS 5_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/9B176 MicroMessenger/4.3.2&#39;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_multi_add_handle</span>($mh, $conn[$k]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 执行批处理句柄
</span></span></span><span style="display:flex;"><span>        $active <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>            $mrc <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_multi_exec</span>($mh, $active); <span style="color:#75715e">//当无数据，active=true
</span></span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">while</span> ($mrc <span style="color:#f92672">==</span> <span style="color:#a6e22e">CURLM_CALL_MULTI_PERFORM</span>); <span style="color:#75715e">//当正在接受数据时
</span></span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> ($active <span style="color:#f92672">&amp;&amp;</span> $mrc <span style="color:#f92672">==</span> <span style="color:#a6e22e">CURLM_OK</span>) { <span style="color:#75715e">//当无数据时或请求暂停时，active=true
</span></span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">curl_multi_select</span>($mh) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>                    $mrc <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_multi_exec</span>($mh, $active);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">while</span> ($mrc <span style="color:#f92672">==</span> <span style="color:#a6e22e">CURLM_CALL_MULTI_PERFORM</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> ($arr <span style="color:#66d9ef">as</span> $k <span style="color:#f92672">=&gt;</span> $url) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_error</span>($conn[$k]);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//echo curl_error($conn[$k]);die;
</span></span></span><span style="display:flex;"><span>            <span style="color:#75715e">//$gg = curl_getinfo($conn[$k], CURLINFO_REDIRECT_URL);
</span></span></span><span style="display:flex;"><span>            <span style="color:#75715e">//var_dump($conn[$k]);die;
</span></span></span><span style="display:flex;"><span>            $content <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_multi_getcontent</span>($conn[$k]); <span style="color:#75715e">//获得返回信息
</span></span></span><span style="display:flex;"><span>            $headerSize <span style="color:#f92672">=</span> <span style="color:#a6e22e">curl_getinfo</span>($conn[$k], <span style="color:#a6e22e">CURLINFO_HEADER_SIZE</span>); <span style="color:#75715e">// 获得响应结果里的：头大小
</span></span></span><span style="display:flex;"><span>            $header <span style="color:#f92672">=</span> <span style="color:#a6e22e">substr</span>($content, <span style="color:#ae81ff">0</span>, $headerSize);
</span></span><span style="display:flex;"><span>           <span style="color:#75715e">// 逻辑代码
</span></span></span><span style="display:flex;"><span>		   <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_multi_remove_handle</span>($mh, $conn[$k]); <span style="color:#75715e">//释放资源
</span></span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">curl_close</span>($conn[$k]); <span style="color:#75715e">//关闭语柄
</span></span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">curl_multi_close</span>($mh);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $resDoamin;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>get、post请求</p>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2021-12-28-%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8E%A5%E5%8F%A3%E9%9B%86%E6%88%90/" rel="bookmark">
			微信开放平台第三方接口集成
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<h1 id="介绍">介绍</h1>
<p>在做微信开放平台第三方应用开发的时候，每次都要登录到微信开放平台中操作，如果多了的话，很不方便，所以想到集成到自己后台操作，这样就可以同时管理n个开放平台里面的n个第三方应用了。</p>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2021-12-28-%E8%BD%ACnginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%98%B2%E6%AD%A2%E8%A2%AB%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/" rel="bookmark">
			【转】Nginx服务器防止被压力测试
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<p>cat nginx.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">http</span> {
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">limit_conn_zone</span> $binary_remote_addr <span style="color:#a6e22e">zone</span><span style="color:#f92672">=</span><span style="color:#a6e22e">one</span><span style="color:#f92672">:</span><span style="color:#ae81ff">10</span><span style="color:#a6e22e">m</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#如果在1.1.8之后版本还用语法：limit_zone name $variable size，会报警告nginx: [warn] the &#34;limit_zone” directive is deprecated, use the &#34; limit_conn_zone”directive
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#这里，设置客户端的IP地址作为键。注意，这里使用的是$binary_remote_addr变量，而不是$remote_addr变量。$remote_addr变量的长度为7字节到15字节不等，而存储状态在32位平台中占用32字节或64字节，在64位平台中占用64字节。而$binary_remote_addr变量的长度是固定的4字节，存储状态在32位平台中占用32字节或64字节，在64位平台中占用64字节。一兆字节的共享内存空间可以保存3.2万个32位的状态，1.6万个64位的状态。如果共享内存空间被耗尽，服务器将会对后续所有的请求返回 503(Service Temporarily Unavailable) 错误。
</span></span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>每个server中</p>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2021-12-25-%E5%BE%AE%E4%BF%A1jssdk%E8%87%AA%E7%94%B1%E5%88%86%E4%BA%AB/" rel="bookmark">
			微信jssdk自由分享
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// 这是微信的配置参数
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span><span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">rs</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">config</span>({
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">debug</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">appId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">appId</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">timestamp</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">timestamp</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">nonceStr</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">nonceStr</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">signature</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">signature</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">jsApiList</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">jsApiList</span>
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ready</span>(<span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">checkJsApi</span>({
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">jsApiList</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">jsApiList</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">window</span><span style="color:#f92672">.</span><span style="color:#a6e22e">history</span><span style="color:#f92672">.</span><span style="color:#a6e22e">replaceState</span>({}, <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#e6db74">&#39;/&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">randomString</span>(<span style="color:#ae81ff">4</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.html&#39;</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">config</span><span style="color:#f92672">.</span><span style="color:#a6e22e">appId</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;wx&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">randomString</span>(<span style="color:#ae81ff">14</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;12&#34;</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">config</span>(<span style="color:#a6e22e">config</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">hideOptionMenu</span>(),
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">showMenuItems</span>({<span style="color:#a6e22e">menuList</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;menuItem:share:appMessage&#34;</span>]});
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">//setShareInfo();
</span></span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	});
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">shareData</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;xxxx&#39;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">link</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;xxx&#39;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">desc</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;xxx&#39;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">imgUrl</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;xxxx&#39;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>		  <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	};
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">wx</span><span style="color:#f92672">.</span><span style="color:#a6e22e">onMenuShareAppMessage</span>(<span style="color:#a6e22e">shareData</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2021-12-25-js-%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/" rel="bookmark">
			js 页面跳转
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">self</span><span style="color:#f92672">.</span><span style="color:#a6e22e">location</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;http://www.baidu.com&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">//window.location=&#39;http://www.baidu.com&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//window.location.href = &#39;http://www.baidu.com&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//top.location=&#39;http://www.baidu.com&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//window.location.replace(&#34;http://www.baidu.com&#34;);
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//// 新页面打开
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//window.open(&#34;http://www.baidu.com&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//window.navigate(&#34;http://www.baidu.com&#34;);
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#a6e22e">script</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2021-12-18-nginx-%E6%A0%B9%E6%8D%AEurl%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE%E6%A0%B9%E7%9B%AE%E5%BD%95/" rel="bookmark">
			nginx 根据url参数设置根目录
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		<h1 id="前言">前言</h1>
<p>最近在开发一个项目，一个程序有n套模板，为了访问不同模板，一开始我建了n个站点，每个站点指向不同的模板目录，后来发现太繁琐了，于是想到去优化，搜索相关资料后，就用nginx参数判断实现了，比原来简单方便了很多。</p>
	</div>
</article>
</main>

<div class="pagination">
	<a class="pagination__item pagination__item--prev btn" href="/page/7/">«</a>
	<span class="pagination__item pagination__item--current">8/35</span>
	<a class="pagination__item pagination__item--next btn" href="/page/9/">»</a>
</div>

			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2026 臭大佬博客.
			<span class="footer__copyright-credits">基于 <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> 引擎和 <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> 主题</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>