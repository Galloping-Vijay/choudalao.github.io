<!doctype html><html class=no-js lang=en><head><meta name=generator content="Hugo 0.156.0"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="技术博客"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml href=/index.xml title=臭大佬博客><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-22-go-%E5%AF%BC%E5%85%A5%E5%8C%85%E7%9A%84%E5%87%A0%E7%A7%8D%E5%86%99%E6%B3%95/ rel=bookmark>go 导入包的几种写法</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>go 在引入包的时候经常能看到以下几种写法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/astaxie/beego&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span><span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span> <span style=color:#e6db74>&#34;blogApi/routers&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>.</span> <span style=color:#e6db74>&#34;blogApi/models&#34;</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h1 id=解释>解释</h1><p><strong>f"fmt"</strong> ：表示别名，使用别名后
<code>fmt.Println("hello world")</code>可以写成<code>f.Println("hello world")</code></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-21-vue-%E5%AD%90%E7%BB%84%E4%BB%B6%E5%90%91%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC/ rel=bookmark>Vue 子组件向父组件传值</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>开发中，会发现很多公共部分，可以独立封装起来，让更多的地方统一调用，这就是组件的作用，今天简单封装了一个图片上传的组件，当子组件中图片上传成功后，怎么传到父级组件呢？</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-20-go-%E6%96%B9%E6%B3%95%E4%BC%A0%E5%85%A5%E6%8C%87%E9%92%88/ rel=bookmark>go 方法传入指针</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>在 go 中，经常看到方法传递的参数中带有 * ，也就是指针。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>func</span> (<span style=color:#a6e22e>base</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BaseController</span>) <span style=color:#a6e22e>IsPost</span>() <span style=color:#a6e22e>bool</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>base</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Ctx</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Request</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Method</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;POST&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>上面的栗子中：<code>base *BaseController</code> 用到了指针变量。</p><p>这是因为 Go 语言面向对象编程不像 PHP、Java 那样支持隐式的 this 指针，所有的东西都是显式声明的。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-19-go-%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C/ rel=bookmark>Go 时间操作</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=获取当前时间>获取当前时间</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>dateTime</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Now：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>dateTime</span>)
</span></span></code></pre></div><blockquote><p>Now：2022-05-27 16 : 29:28.7851174 +0800 CST m=+0.002545801</p></blockquote><h1 id=获取当前时间戳>获取当前时间戳</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>timeUnix</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()<span style=color:#f92672>.</span><span style=color:#a6e22e>Unix</span>() <span style=color:#75715e>//单位秒
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;单位秒：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>timeUnix</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>timeUnixNano</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()<span style=color:#f92672>.</span><span style=color:#a6e22e>UnixNano</span>() <span style=color:#75715e>//单位纳秒
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;单位纳秒：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>timeUnixNano</span>)
</span></span></code></pre></div><blockquote><p>单位秒：1653640239
单位纳秒：1653640239649865000</p></blockquote><h1 id=将时间格式化>将时间格式化</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>formatTime</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Now</span>()<span style=color:#f92672>.</span><span style=color:#a6e22e>Format</span>(<span style=color:#e6db74>&#34;2006-01-02 15:04:05&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;格式化：%v</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, <span style=color:#a6e22e>formatTime</span>)
</span></span></code></pre></div><blockquote><p>格式化：2022-05-27 16 : 31:44</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-18-php%E5%AF%B9redis%E6%93%8D%E4%BD%9C%E8%AF%A6%E8%A7%A3/ rel=bookmark>PHP对redis操作详解</a></h2></header><div class="content list__excerpt post__content clearfix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>/*1.Connection*/</span>
</span></span><span style=display:flex><span>$redis <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Redis</span>();
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>connect</span>(<span style=color:#e6db74>&#39;127.0.0.1&#39;</span>,<span style=color:#ae81ff>6379</span>,<span style=color:#ae81ff>1</span>);<span style=color:#75715e>//短链接，本地host，端口为6379，超过1秒放弃链接
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>open</span>(<span style=color:#e6db74>&#39;127.0.0.1&#39;</span>,<span style=color:#ae81ff>6379</span>,<span style=color:#ae81ff>1</span>);<span style=color:#75715e>//短链接(同上)
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>pconnect</span>(<span style=color:#e6db74>&#39;127.0.0.1&#39;</span>,<span style=color:#ae81ff>6379</span>,<span style=color:#ae81ff>1</span>);<span style=color:#75715e>//长链接，本地host，端口为6379，超过1秒放弃链接
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>popen</span>(<span style=color:#e6db74>&#39;127.0.0.1&#39;</span>,<span style=color:#ae81ff>6379</span>,<span style=color:#ae81ff>1</span>);<span style=color:#75715e>//长链接(同上)
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>auth</span>(<span style=color:#e6db74>&#39;password&#39;</span>);<span style=color:#75715e>//登录验证密码，返回【true | false】
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>select</span>(<span style=color:#ae81ff>0</span>);<span style=color:#75715e>//选择redis库,0~15 共16个库
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>close</span>();<span style=color:#75715e>//释放资源
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>ping</span>(); <span style=color:#75715e>//检查是否还再链接,[+pong]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>ttl</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//查看失效时间[-1 | timestamps]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>persist</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//移除失效时间[ 1 | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sort</span>(<span style=color:#e6db74>&#39;key&#39;</span>,[$array]);<span style=color:#75715e>//返回或保存给定列表、集合、有序集合key中经过排序的元素，$array为参数limit等！【配合$array很强大】 [array|false]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*2.共性的运算归类*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>expire</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#ae81ff>10</span>);<span style=color:#75715e>//设置失效时间[true | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>move</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#ae81ff>15</span>);<span style=color:#75715e>//把当前库中的key移动到15库中[0|1]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//string
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>strlen</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//获取当前key的长度
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;string&#39;</span>);<span style=color:#75715e>//把string追加到key现有的value中[追加后的个数]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>incr</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//自增1，如不存在key,赋值为1(只对整数有效,存储以10进制64位，redis中为str)[new_num | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>incrby</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$num);<span style=color:#75715e>//自增$num,不存在为赋值,值需为整数[new_num | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>decr</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//自减1，[new_num | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>decrby</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$num);<span style=color:#75715e>//自减$num，[ new_num | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setex</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#ae81ff>10</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//key=value，有效期为10秒[true]
</span></span></span><span style=display:flex><span><span style=color:#75715e>//list
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>llen</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//返回列表key的长度,不存在key返回0， [ len | 0]
</span></span></span><span style=display:flex><span><span style=color:#75715e>//set
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>scard</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//返回集合key的基数(集合中元素的数量)。[num | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sMove</span>(<span style=color:#e6db74>&#39;key1&#39;</span>, <span style=color:#e6db74>&#39;key2&#39;</span>, <span style=color:#e6db74>&#39;member&#39;</span>);<span style=color:#75715e>//移动，将member元素从key1集合移动到key2集合。[1 | 0]
</span></span></span><span style=display:flex><span><span style=color:#75715e>//Zset
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zcard</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//返回集合key的基数(集合中元素的数量)。[num | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zcount</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);<span style=color:#75715e>//返回有序集key中，score值在min和max之间(默认包括score值等于min或max)的成员。[num | 0]
</span></span></span><span style=display:flex><span><span style=color:#75715e>//hash
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hexists</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;field&#39;</span>);<span style=color:#75715e>//查看hash中是否存在field,[1 | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hincrby</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;field&#39;</span>,$int_num);<span style=color:#75715e>//为哈希表key中的域field的值加上量(+|-)num,[new_num | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hlen</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//返回哈希表key中域的数量。[ num | 0]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*3.Server*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>dbSize</span>();<span style=color:#75715e>//返回当前库中的key的个数
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>flushAll</span>();<span style=color:#75715e>//清空整个redis[总true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>flushDB</span>();<span style=color:#75715e>//清空当前redis库[总true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>save</span>();<span style=color:#75715e>//同步??把数据存储到磁盘-dump.rdb[true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>bgsave</span>();<span style=color:#75715e>//异步？？把数据存储到磁盘-dump.rdb[true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>info</span>();<span style=color:#75715e>//查询当前redis的状态 [verson:2.4.5....]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lastSave</span>();<span style=color:#75715e>//上次存储时间key的时间[timestamp]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>watch</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;keyn&#39;</span>);<span style=color:#75715e>//监视一个(或多个) key ，如果在事务执行之前这个(或这些) key 被其他命令所改动，那么事务将被打断 [true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>unwatch</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;keyn&#39;</span>);<span style=color:#75715e>//取消监视一个(或多个) key [true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>multi</span>(<span style=color:#a6e22e>Redis</span><span style=color:#f92672>::</span><span style=color:#a6e22e>MULTI</span>);<span style=color:#75715e>//开启事务，事务块内的多条命令会按照先后顺序被放进一个队列当中，最后由 EXEC 命令在一个原子时间内执行。
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>multi</span>(<span style=color:#a6e22e>Redis</span><span style=color:#f92672>::</span><span style=color:#a6e22e>PIPELINE</span>);<span style=color:#75715e>//开启管道，事务块内的多条命令会按照先后顺序被放进一个队列当中，最后由 EXEC 命令在一个原子时间内执行。
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>exec</span>();<span style=color:#75715e>//执行所有事务块内的命令，；【事务块内所有命令的返回值，按命令执行的先后顺序排列，当操作被打断时，返回空值 false】
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*4.String，键值对，创建更新同操作*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setOption</span>(<span style=color:#a6e22e>Redis</span><span style=color:#f92672>::</span><span style=color:#a6e22e>OPT_PREFIX</span>,<span style=color:#e6db74>&#39;hf_&#39;</span>);<span style=color:#75715e>//设置表前缀为hf_
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>set</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#ae81ff>1</span>);<span style=color:#75715e>//设置key=aa value=1 [true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>mset</span>($arr);<span style=color:#75715e>//设置一个或多个键值[true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setnx</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//key=value,key存在返回false[|true]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//获取key [value]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>mget</span>($arr);<span style=color:#75715e>//(string|arr),返回所查询键的值
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>del</span>($key_arr);<span style=color:#75715e>//(string|arr)删除key，支持数组批量删除【返回删除个数】
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>delete</span>($key_str,$key2,$key3);<span style=color:#75715e>//删除keys,[del_num]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getset</span>(<span style=color:#e6db74>&#39;old_key&#39;</span>,<span style=color:#e6db74>&#39;new_value&#39;</span>);<span style=color:#75715e>//先获得key的值，然后重新赋值,[old_value | false]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*5.List栈的结构,注意表头表尾,创建更新分开操作*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lpush</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//增，只能将一个值value插入到列表key的表头，不存在就创建 [列表的长度 |false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>rpush</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//增，只能将一个值value插入到列表key的表尾 [列表的长度 |false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lInsert</span>(<span style=color:#e6db74>&#39;key&#39;</span>, <span style=color:#a6e22e>Redis</span><span style=color:#f92672>::</span><span style=color:#a6e22e>AFTER</span>, <span style=color:#e6db74>&#39;value&#39;</span>, <span style=color:#e6db74>&#39;new_value&#39;</span>);<span style=color:#75715e>//增，将值value插入到列表key当中，位于值value之前或之后。[new_len | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lpushx</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//增，只能将一个值value插入到列表key的表头，不存在不创建 [列表的长度 |false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>rpushx</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//增，只能将一个值value插入到列表key的表尾，不存在不创建 [列表的长度 |false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lpop</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//删，移除并返回列表key的头元素,[被删元素 | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>rpop</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//删，移除并返回列表key的尾元素,[被删元素 | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lrem</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>,<span style=color:#ae81ff>0</span>);<span style=color:#75715e>//删，根据参数count的值，移除列表中与参数value相等的元素count=(0|-n表头向尾|+n表尾向头移除n个value) [被移除的数量 | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>ltrim</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#a6e22e>start</span>,<span style=color:#a6e22e>end</span>);<span style=color:#75715e>//删，列表修剪，保留(start,end)之间的值 [true|false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lset</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#a6e22e>index</span>,<span style=color:#e6db74>&#39;new_v&#39;</span>);<span style=color:#75715e>//改，从表头数，将列表key下标为第index的元素的值为new_v, [true | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lindex</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#a6e22e>index</span>);<span style=color:#75715e>//查，返回列表key中，下标为index的元素[value|false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>lrange</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);<span style=color:#75715e>//查，(start,stop|0,-1)返回列表key中指定区间内的元素，区间以偏移量start和stop指定。[array|false]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*6.Set，没有重复的member，创建更新同操作*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sadd</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value1&#39;</span>,<span style=color:#e6db74>&#39;value2&#39;</span>,<span style=color:#e6db74>&#39;valuen&#39;</span>);<span style=color:#75715e>//增，改，将一个或多个member元素加入到集合key当中，已经存在于集合的member元素将被忽略。[insert_num]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>srem</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;value1&#39;</span>,<span style=color:#e6db74>&#39;value2&#39;</span>,<span style=color:#e6db74>&#39;valuen&#39;</span>);<span style=color:#75715e>//删，移除集合key中的一个或多个member元素，不存在的member元素会被忽略 [del_num | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>smembers</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//查，返回集合key中的所有成员 [array | &#39;&#39;]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sismember</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;member&#39;</span>);<span style=color:#75715e>//判断member元素是否是集合key的成员 [1 | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>spop</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//删，移除并返回集合中的一个随机元素 [member | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>srandmember</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//查，返回集合中的一个随机元素 [member | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sinter</span>(<span style=color:#e6db74>&#39;key1&#39;</span>,<span style=color:#e6db74>&#39;key2&#39;</span>,<span style=color:#e6db74>&#39;keyn&#39;</span>);<span style=color:#75715e>//查，返回所有给定集合的交集 [array | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sunion</span>(<span style=color:#e6db74>&#39;key1&#39;</span>,<span style=color:#e6db74>&#39;key2&#39;</span>,<span style=color:#e6db74>&#39;keyn&#39;</span>);<span style=color:#75715e>//查，返回所有给定集合的并集 [array | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>sdiff</span>(<span style=color:#e6db74>&#39;key1&#39;</span>,<span style=color:#e6db74>&#39;key2&#39;</span>,<span style=color:#e6db74>&#39;keyn&#39;</span>);<span style=color:#75715e>//查，返回所有给定集合的差集 [array | false]
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*7.Zset，没有重复的member，有排序顺序,创建更新同操作*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zAdd</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$score1,$member1,$scoreN,$memberN);<span style=color:#75715e>//增，改，将一个或多个member元素及其score值加入到有序集key当中。[num | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrem</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;member1&#39;</span>,<span style=color:#e6db74>&#39;membern&#39;</span>);<span style=color:#75715e>//删，移除有序集key中的一个或多个成员，不存在的成员将被忽略。[del_num | 0]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zscore</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;member&#39;</span>);<span style=color:#75715e>//查,通过值反拿权 [num | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrange</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$start,$stop);<span style=color:#75715e>//查，通过(score从小到大)【排序名次范围】拿member值，返回有序集key中，【指定区间内】的成员 [array | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrevrange</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$start,$stop);<span style=color:#75715e>//查，通过(score从大到小)【排序名次范围】拿member值，返回有序集key中，【指定区间内】的成员 [array | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrangebyscore</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$min,$max[,$config]);<span style=color:#75715e>//查，通过scroe权范围拿member值，返回有序集key中，指定区间内的(从小到大排)成员[array | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrevrangebyscore</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$max,$min[,$config]);<span style=color:#75715e>//查，通过scroe权范围拿member值，返回有序集key中，指定区间内的(从大到小排)成员[array | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrank</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;member&#39;</span>);<span style=color:#75715e>//查，通过member值查(score从小到大)排名结果中的【member排序名次】[order | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>zrevrank</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;member&#39;</span>);<span style=color:#75715e>//查，通过member值查(score从大到小)排名结果中的【member排序名次】[order | null]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>ZINTERSTORE</span>();<span style=color:#75715e>//交集
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>ZUNIONSTORE</span>();<span style=color:#75715e>//差集
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/*8.Hash，表结构，创建更新同操作*/</span>
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hset</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;field&#39;</span>,<span style=color:#e6db74>&#39;value&#39;</span>);<span style=color:#75715e>//增，改，将哈希表key中的域field的值设为value,不存在创建,存在就覆盖【1 | 0】
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hget</span>(<span style=color:#e6db74>&#39;key&#39;</span>,<span style=color:#e6db74>&#39;field&#39;</span>);<span style=color:#75715e>//查，取值【value|false】
</span></span></span><span style=display:flex><span>$arr <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;one&#39;</span><span style=color:#f92672>=&gt;</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>);$arr2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;one&#39;</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hmset</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$arr);<span style=color:#75715e>//增，改，设置多值$arr为(索引|关联)数组,$arr[key]=field, [ true ]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hmget</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$arr2);<span style=color:#75715e>//查，获取指定下标的field，[$arr | false]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hgetall</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//查，返回哈希表key中的所有域和值。[当key不存在时，返回一个空表]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hkeys</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//查，返回哈希表key中的所有域。[当key不存在时，返回一个空表]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hvals</span>(<span style=color:#e6db74>&#39;key&#39;</span>);<span style=color:#75715e>//查，返回哈希表key中的所有值。[当key不存在时，返回一个空表]
</span></span></span><span style=display:flex><span>$redis<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>hdel</span>(<span style=color:#e6db74>&#39;key&#39;</span>,$arr2);<span style=color:#75715e>//删，删除指定下标的field,不存在的域将被忽略,[num | false]
</span></span></span></code></pre></div></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-10-win10%E4%B8%8B-redis-%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%90%AF%E5%8A%A8/ rel=bookmark>win10下 redis 设置自启动</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>win下安装redis后，需要 cmd 启动，只要一退出命令窗口，redis 就消失了。</p><p><img src=https://www.choudalao.com/uploads/20201110/20201110111348H4YYYW.png alt></p><p>所以，需要把redis服务添加到后台服务，切换到redis安装的根目录，命令如下：</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-06-xxx-be-unexportedgo-lint/ rel=bookmark>xxx be unexportedgo-lint</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>在用 <code>vscode</code> 写 <code>go</code> 代码的时候，总是有波浪线存在，如下图：</p><p><img src=https://www.choudalao.com/uploads/20201105/20201105235334RJDqjA.png alt></p><h1 id=解决>解决</h1><p>如截图，有三处会触发<code>go-lint</code>的警告，分别是结构体上、方法上、下划线变量上</p><p>1： 结构体的上一行，编写结构体注释，而且一定要用这个结构体名称开头，如下:
<img src=https://www.choudalao.com/uploads/20201106/20201106000020ky6qiq.png alt></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-05-go-%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84base64%E5%8A%A0%E5%AF%86/ rel=bookmark>go 语言中的Base64加密</a></h2></header><div class="content list__excerpt post__content clearfix"><p>Base64是一种任意二进制到文本字符串的编码方法，常用于在URL、Cookie、网页中传输少量二进制数据。</p><p>首先使用Base64编码需要一个含有64个字符的表，这个表由大小写字母、数字、+和/组成。采用Base64编码处理数据时，会把每三个字节共24位作为一个处理单元，再分为四组，每组6位，查表后获得相应的字符即编码后的字符串。编码后的字符串长32位，这样，经Base64编码后，原字符串增长1/3。如果要编码的数据不是3的倍数，最后会剩下一到两个字节，Base64编码中会采用\x00在处理单元后补全，编码后的字符串最后会加上一到两个 = 表示补了几个字节。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-02-docker%E5%AE%89%E8%A3%85mysql-80/ rel=bookmark>Docker安装Mysql 8.0</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=前提>前提</h1><p>已安装 docker</p><h1 id=查看可用的mysql镜像版本>查看可用的Mysql镜像版本</h1><p>登陆 <a href=https://hub.docker.com/>https://hub.docker.com/</a>
搜索 <code>mysql</code>,切换到tag标签,找到 mysql8.0
<img src=https://www.choudalao.com/uploads/20230119/202301191637316A4hdz.png alt>
复制箭头的命令</p><h3 id=拉取镜像>拉取镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>pull</span> <span style=color:#a6e22e>mysql</span>:<span style=color:#ae81ff>8.0</span>
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20230119/20230119163934MTTvEn.png alt></p><h3 id=查看镜像>查看镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>images</span>
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20230119/20230119163946qMTFhS.png alt></p><h3 id=启动mysql镜像>启动Mysql镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>run</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>itd</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>name</span> <span style=color:#a6e22e>mysql</span><span style=color:#f92672>-</span><span style=color:#ae81ff>8</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>3307</span>:<span style=color:#ae81ff>3306</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>e</span> <span style=color:#a6e22e>MYSQL_ROOT_PASSWORD</span>=<span style=color:#ae81ff>123456</span> <span style=color:#a6e22e>mysql</span>:<span style=color:#ae81ff>8.0</span>
</span></span></code></pre></div><p>参数说明：</p><p>–name mysql-8：所建容器的名称
-p 3307:3306 ：映射容器服务的 3306 端口到宿主机的 3307 端口，外部主机可以直接通过 宿主机ip:3307 访问到 MySQL 的服务。
MYSQL_ROOT_PASSWORD=123456：设置 MySQL 服务 root 用户的密码
mysql:8.0：使用的镜像，即镜像名：tag</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/posts/2020-11-02-php-%E7%AE%80%E5%8D%95%E7%9A%84%E5%8A%A0%E5%AF%86%E5%92%8C%E8%A7%A3%E5%AF%86/ rel=bookmark>php 简单的加密和解密</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=代码>代码</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#e6db74>/**
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* Description:加密
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* User: Vijay &lt;1937832819@qq.com&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* Date: 2020/11/2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* Time: 15:52
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* @param string $string 解析字符串
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* @param string $key key
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* @return string|string[]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>encryption</span>($string <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>, $key <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;drp&#34;</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#75715e>//str_split把字符串分割到数组中
</span></span></span><span style=display:flex><span>$strArr <span style=color:#f92672>=</span> <span style=color:#a6e22e>str_split</span>(<span style=color:#a6e22e>base64_encode</span>($string));
</span></span><span style=display:flex><span>$strcount <span style=color:#f92672>=</span> <span style=color:#a6e22e>count</span>($strArr);
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#a6e22e>str_split</span>($key) <span style=color:#66d9ef>as</span> $key <span style=color:#f92672>=&gt;</span> $value) {
</span></span><span style=display:flex><span>$key <span style=color:#f92672>&lt;</span> $strcount <span style=color:#f92672>&amp;&amp;</span> $strArr[$key] <span style=color:#f92672>.=</span> $value;
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#a6e22e>str_replace</span>(<span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;=&#39;</span>, <span style=color:#e6db74>&#39;+&#39;</span>, <span style=color:#e6db74>&#39;1&#39;</span>), <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;O0O0O&#39;</span>, <span style=color:#e6db74>&#39;o000o&#39;</span>, <span style=color:#e6db74>&#39;oo00o&#39;</span>), <span style=color:#a6e22e>join</span>($strArr));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>/**
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* Description:解密
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* User: Vijay &lt;1937832819@qq.com&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* Date: 2020/11/2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* Time: 15:52
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* @param string $string 解析字符串
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* @param string $skey
</span></span></span><span style=display:flex><span><span style=color:#e6db74>* @return false|string
</span></span></span><span style=display:flex><span><span style=color:#e6db74>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>deciphering</span>($string <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>, $skey <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;drp&#39;</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>$strArr <span style=color:#f92672>=</span> <span style=color:#a6e22e>str_split</span>(<span style=color:#a6e22e>str_replace</span>(<span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;O0O0O&#39;</span>, <span style=color:#e6db74>&#39;o000o&#39;</span>, <span style=color:#e6db74>&#39;oo00o&#39;</span>), <span style=color:#66d9ef>array</span>(<span style=color:#e6db74>&#39;=&#39;</span>, <span style=color:#e6db74>&#39;+&#39;</span>, <span style=color:#e6db74>&#39;/&#39;</span>), $string), <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>$strCount <span style=color:#f92672>=</span> <span style=color:#a6e22e>count</span>($strArr);
</span></span><span style=display:flex><span><span style=color:#66d9ef>foreach</span> (<span style=color:#a6e22e>str_split</span>($skey) <span style=color:#66d9ef>as</span> $key <span style=color:#f92672>=&gt;</span> $value)
</span></span><span style=display:flex><span>$key <span style=color:#f92672>&lt;=</span> $strCount <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>@</span>$strArr[$key][<span style=color:#ae81ff>1</span>] <span style=color:#f92672>===</span> $value <span style=color:#f92672>&amp;&amp;</span> $strArr[$key] <span style=color:#f92672>=</span> $strArr[$key][<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#a6e22e>base64_decode</span>(<span style=color:#a6e22e>join</span>($strArr));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=调用及结果>调用及结果</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span>$a <span style=color:#f92672>=</span> <span style=color:#a6e22e>encryption</span>(<span style=color:#e6db74>&#39;32&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>var_dump</span>($a);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$a <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;MczIO0O0O&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$b <span style=color:#f92672>=</span> <span style=color:#a6e22e>deciphering</span>($a);
</span></span><span style=display:flex><span><span style=color:#a6e22e>var_dump</span>($b);
</span></span></code></pre></div><blockquote><p>string(9) &ldquo;MczIO0O0O&rdquo;
string(2) &ldquo;32&rdquo;</p></div></article></main><div class=pagination><a class="pagination__item pagination__item--prev btn" href=/page/13/>«</a>
<span class="pagination__item pagination__item--current">14/35</span>
<a class="pagination__item pagination__item--next btn" href=/page/15/>»</a></div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>