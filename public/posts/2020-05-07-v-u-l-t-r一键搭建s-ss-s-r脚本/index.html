<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>v-u-l-t-r一键搭建S-S/S-S-R脚本 - 臭大佬博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="v-u-l-t-r一键搭建S-S/S-S-R脚本">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="臭大佬博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">臭大佬博客</div>
					
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">菜单</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">首页</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/">
				
				<span class="menu__text">归档</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">关于</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">v-u-l-t-r一键搭建S-S/S-S-R脚本</h1>
			
		</header>
		<div class="content post__content clearfix">
			<h1 id="vultr注册及购买">vultr注册及购买</h1>
<p>国外VPS服务商除了<a href="https://bwh1.net/index.php" title="搬瓦工">搬瓦工</a>可以在VPS管理后台进行一键搭建SS外，其它的商家还没有发现有这个额外的功能，都需要我们手动执行命令（代码）来进行操作。</p>
<p><a href="https://www.vultr.com/?ref=8566696" title="vultr注册地址">vultr注册地址</a></p>
<p><a href="https://www.vultr.com/?ref=8566934-6G" title="充值活动">充值活动</a></p>
<h3 id="注册">注册</h3>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507223549hUoR9j.png" alt=""></p>
<p>输入邮箱和密码，</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507223915JNe2JX.png" alt=""></p>
<p>注册成功后登陆进行验证邮箱，点击log in</p>
<h3 id="充值">充值</h3>
<p>只有先充值余额才能够进行消费已经获赠Vultr官方的优惠活动金额。这里可以选择支付宝，比较方便。</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507224028DclraI.png" alt=""></p>
<h3 id="创建vps服务器">创建VPS服务器</h3>
<p>充值完成后，选择左侧面板“Servers”点击面板右上角的“+”号，进入“Deploy”页面进行创建VPS服务器。</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507224648NEwGbS.png" alt="">
<img src="https://www.choudalao.com/uploads/20200507/20200507224400SUbrNd.png" alt="">
<img src="https://www.choudalao.com/uploads/20200507/20200507224804k7dGo9.png" alt=""></p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507224854vD6dbe.png" alt=""></p>
<p>当安装完成后就可以看到VPS的基本信息了，包括：root密码、IP地址以及内存、硬盘等各项信息，</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507224926guUzRn.png" alt=""></p>
<h3 id="远程连接vps服务器">远程连接VPS服务器</h3>
<p>如果发现xshell等工具不能登陆，有可能是22端口未开放，可以点击这个链接检测，<a href="http://coolaf.com/tool/port" title="检测端口">检测端口</a>，
如果端口没有开放，请直接删除，重新创建一个，以免它一直扣费</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507225237cZnBWc.png" alt=""></p>
<p>删除成功后，按上面创建VPS服务器步骤重新创建即可，</p>
<h1 id="安装bbr加速">安装bbr加速</h1>
<p>用刚才截图的地址及账号密码登录xsell后,据说安装bbr可以提速，因为没有对比过，所以，只能说是据说，先安装一下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>chmod +x bbr.sh  <span style="color:#75715e"># 我用的时候需要改一下权限</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>./bbr.sh 
</span></span></code></pre></div><p><img src="https://www.choudalao.com/uploads/20200508/20200508233921O8L4XY.png" alt=""></p>
<p>安装完后，输入 y 并回车后重启 VPS。
<img src="https://www.choudalao.com/uploads/20200508/202005082340267Jdb8s.png" alt=""></p>
<p>重启完成后，进入 VPS，验证一下是否成功安装最新内核并开启 TCP BBR，输入以下命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>uname -r
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sysctl net.ipv4.tcp_available_congestion_control
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sysctl net.ipv4.tcp_congestion_control
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sysctl net.core.default_qdisc 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>lsmod | grep bbr
</span></span></code></pre></div><p>返回值有 tcp_bbr 模块即说明bbr已启动。</p>
<p><img src="https://www.choudalao.com/uploads/20200508/20200508234330bxux3v.png" alt=""></p>
<h1 id="搭建ss服务器">搭建SS服务器</h1>
<p>用刚才截图的地址及账号密码登录xsell后，运行如下命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget --no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh
</span></span><span style="display:flex;"><span>// 获取所有版本
</span></span><span style="display:flex;"><span>// wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh
</span></span></code></pre></div><p>如出现错误提示 bash: wget: command not found，可以请在先执行 <code>yum -y install wget</code> 或者 <code>apt-get install -y wget</code> 命令。成功后，再执行上面的命令。如果没有出现提示错误，请略过。</p>
<p>等待上一步的命令执行结束后，继续执行命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>chmod +x shadowsocks.sh
</span></span><span style="display:flex;"><span>// 对应上面的 shadowsocks-all
</span></span><span style="display:flex;"><span>// chmod +x shadowsocks-all.sh
</span></span></code></pre></div><p>等待上一步的命令执行结束后，继续执行命令:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>./shadowsocks.sh 2&gt;&amp;<span style="color:#ae81ff">1</span> | tee shadowsocks.log
</span></span><span style="display:flex;"><span>// 对应上面的 shadowsocks-all
</span></span><span style="display:flex;"><span>// ./shadowsocks-all.sh 2&gt;&amp;<span style="color:#ae81ff">1</span> | tee shadowsocks-all.log
</span></span></code></pre></div><p>根据需要选择，不懂的话直接选1，或者默认回车。下面会提示你输入你的 SS SERVER 的密码和端口。不输入就是默认。跑完命令后会出来你的 SS 客户端的信息。</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507231854q8upkR.png" alt="">
<img src="https://www.choudalao.com/uploads/20200507/20200507231906a4O0hl.png" alt=""></p>
<p>全部选择完毕后，当出现如下命令就说明安装成功了：</p>
<p><img src="https://www.choudalao.com/uploads/20200508/20200508103618Ou0nfm.png" alt=""></p>
<p>如果安装过程中出现如下错误，那需要配置python，如果没有出现，请自行跳过 安装python2.7 步骤</p>
<p><img src="https://www.choudalao.com/uploads/20200507/20200507231946YLqIN9.png" alt=""></p>
<h4 id="安装python27">安装python2.7</h4>
<p>安装make</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>yum -y install gcc automake autoconf libtool make
</span></span></code></pre></div><p>安装g++:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>yum install gcc gcc-c++
</span></span></code></pre></div><p>官网直接下载Python 2.7.11压缩包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget https://www.python.org/ftp/python/2.7.11/Python-2.7.11.tgz
</span></span></code></pre></div><p>压缩包解压</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>tar -xvzf Python-2.7.11.tgz
</span></span></code></pre></div><p>将Python解压包移动到/home目录下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mv Python-2.7.11 /home
</span></span></code></pre></div><p>进入Python目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd Python-2.7.11
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>./configure --prefix<span style="color:#f92672">=</span>/usr/local/python2.7
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>make install
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>make
</span></span></code></pre></div><p>如果出现如下报错，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>./python -E -S -m sysconfig --generate-posix-vars ;<span style="color:#ae81ff">\ </span><span style="color:#66d9ef">if</span> test $? -ne <span style="color:#ae81ff">0</span> ; <span style="color:#66d9ef">then</span> <span style="color:#ae81ff">\ </span>	echo <span style="color:#e6db74">&#34;generate-posix-vars failed&#34;</span> ; <span style="color:#ae81ff">\ </span>	rm -f ./pybuilddir.txt ; <span style="color:#ae81ff">\ </span>	exit <span style="color:#ae81ff">1</span> ; <span style="color:#ae81ff">\ </span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p><img src="https://www.choudalao.com/uploads/20200508/20200508002210WkzI3O.png" alt=""></p>
<p>在 ./configure 操作前，先执行如下命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>export LANGUAGE<span style="color:#f92672">=</span>en_US.UTF-8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export LANG<span style="color:#f92672">=</span>en_US.UTF-8
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export LC_ALL<span style="color:#f92672">=</span>en_US.UTF-8
</span></span></code></pre></div><p><img src="https://www.choudalao.com/uploads/20200508/20200508002400QRgVOS.png" alt=""></p>
<p>然后再从./configure &ndash;prefix=/usr/local/python2.7 命令开始</p>
<p><img src="https://www.choudalao.com/uploads/20200508/20200508002434BkwBgp.png" alt=""></p>
<h3 id="ss配置">SS配置</h3>
<p>查看当前ss服务器所开放的端口</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ss -lntp | grep ssserver
</span></span></code></pre></div><p>查看当前ss服务器的密码，通过以下命令可见ss的配置文件，配置文件中自然有密码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ps aux | grep ssserver
</span></span></code></pre></div><p><img src="https://www.choudalao.com/uploads/20200508/20200508105814hEFMQn.png" alt=""></p>
<p>修改ss密码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>vi /etc/shadowsocks.json
</span></span></code></pre></div><p>按i键进入编辑模式，修改密码为123456</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#e6db74">&#34;password&#34;</span>:<span style="color:#e6db74">&#34;123456&#34;</span>,
</span></span></code></pre></div><p>重启ss即可</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>service shadowsocks restart
</span></span></code></pre></div><p>附：ss启动停止方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>service shadowsocks start <span style="color:#75715e"># 启动</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>service shadowsocks stop <span style="color:#75715e"># 停止</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>service shadowsocks restart <span style="color:#75715e"># 重启</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>service shadowsocks status <span style="color:#75715e"># 状态</span>
</span></span></code></pre></div><h1 id="搭建ssr服务器">搭建SSR服务器</h1>
<p>此处注意：SS服务器和SSR服务器只需要搭一个。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocksR.sh
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>chmod +x shadowsocksR.sh
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>./shadowsocksR.sh 2&gt;&amp;<span style="color:#ae81ff">1</span> | tee shadowsocksR.log
</span></span></code></pre></div><p>根据需要选择，不懂的话直接选1，或者默认回车。下面会提示你输入你的 SSR SERVER 的密码和端口。不输入就是默认。跑完命令后会出来你的 SSR 客户端的信息。</p>
<p>全部选择完毕后，当出现如下命令就说明安装成功了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>Congratulations, ShadowsocksR server install completed!
</span></span><span style="display:flex;"><span>Your Server IP :IP
</span></span><span style="display:flex;"><span>Your Server Port :端口
</span></span><span style="display:flex;"><span>Your Password :密码
</span></span><span style="display:flex;"><span>Your Protocol :协议
</span></span><span style="display:flex;"><span>Your obfs :混淆
</span></span><span style="display:flex;"><span>Your Encryption Method:your_encryption_method
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Welcome to visit:https://shadowsocks.be/9.html
</span></span><span style="display:flex;"><span>Enjoy it!
</span></span></code></pre></div><h1 id="获取客户端">获取客户端</h1>
<p>关注臭大佬公众号，回复“墙”，获取各种系统的客户端。
<img src="https://www.choudalao.com/uploads/20200508/5eb4cc886b061.jpg" alt=""></p>

		</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2026 臭大佬博客.
			<span class="footer__copyright-credits">基于 <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> 引擎和 <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> 主题</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>