<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>php解析base64数据生成图片的方法 - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="php解析base64数据生成图片的方法"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>php解析base64数据生成图片的方法</h1></header><div class="content post__content clearfix"><p>&lt;p>这篇文章主要介绍了php解析base64数据生成图片的方法,涉及php使用base64_decode函数针对base64格式数据的解析与图形输出操作相关技巧,非常简单实用,代码参考如下:&lt;/p>&lt;p>&lt;br>&lt;/p>&lt;pre lay-lang="JavaScript">&lt;code class="JavaScript"> $base64 = "/9j/4AAQSkZJRgABAQEAkACQAAD/4QCMRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAACQAAAAAQAAAJAAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAHKgAwAEAAAAAQAAAHIAAAAA/9sAQwAfFRcbFxMfGxkbIyEfJS9OMi8rKy9fREg4TnBjdnRuY21rfIyyl3yEqYZrbZvTnam4vsjKyHiV2+rZwumyxMjA/9sAQwEhIyMvKS9bMjJbwIBtgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA/8AAEQgAcgByAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A6GiiigAooqF5scL+dAEpIHU4phmQepquSWOSc0UwJvPH939aPP8A9n9ahooAsCZT1yKeCG6HNVKASDkHFAFyioEm7N+dTAgjIpALRRRQAUUUUAFFFQzv/CPxoAbLJuOB0/nUdFFMAoopyIXPH50ANoqTES9SWPtR+6b1WgCOinPGU56j1ptABTo5Ch9vSm0UAWwQRkdKWq8L4O09DVikAUUUUAIx2qT6VUJycmp5zhQPWoKYBRRRQAdalkOxQi/jUaffX606b/WGgBlFFFAEkTZ+RuhpjDaxHpQn31+tOm/1hoAZRRRQAVajbcgPeqtS255I/GgCeiiikBBcfeA9qiqS4++PpUdMAooooAKlceYoZeo6ioqkjRh82do96AI6KmZoieRk+1N3xr91Mn3oAI12je3QdKjJyST3pXcueaSgAooooAKfD/rBTKfD/rBQBZooopAQ3A6GoasyruQiq1MAoopVG5gPWgB6KFXe34CmO5c5NOmPzbR0FMoAKKKKACpNoePKjkdRUdOiba49+KAG0U6RdrkU2gAqSAfOT6Co6sQLhM+tAElFFFIAqtKm1vY1ZprqHXBoAq06MhXBPSkZSpwaSmArHLE+ppKKKACiiigAooooAfKwZsj0plFABJwOtADkXe2KtdKZGmxffvT6QBRRRQAUUUUANdA4waruhQ89PWrVFAFOip2hU9OKYYXHTBpgR0U7Y/8AdNJsb+6fyoASiniFz2xUiwAfeOaAIVUscAVYjjCD1PrTgABgDFLSAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q==";
//正则匹配
if (preg_match(&rsquo;/^(data:\s*image/(\w+);base64,)/&rsquo;, $base64, $result)) {
//获取图片
$base64_img = base64_decode(str_replace($result[1], &lsquo;&rsquo;, $base64));
//设置名称
$date = date(&lsquo;Ymd&rsquo;);
$src = date("YmdHis") . &lsquo;.png&rsquo;;
//设置路径
$path = &lsquo;uploads/&rsquo; . $date;
//拼接完整文件路径
$pathSrc = $path . &lsquo;/&rsquo; . $src;
//路径检测和创建
if (!is_dir($path)) {
mkdir($path, 0777, true);
}
//存储图片
file_put_contents($pathSrc, $base64_img);//保存图片，返回的是字节数
//设置返回值
$data[&lsquo;src&rsquo;] = $_SERVER[&lsquo;REQUEST_SCHEME&rsquo;] . &lsquo;://&rsquo; . $_SERVER[&lsquo;HTTP_HOST&rsquo;] . &lsquo;/&rsquo; . $path . &lsquo;/&rsquo; . $src;
$data[&rsquo;title&rsquo;] = &lsquo;文章图片&rsquo;;
if (file_exists($pathSrc)) {
return self::resJson(0, &lsquo;上传成功&rsquo;, $data);
}
return self::resJson(1, &lsquo;上传失败&rsquo;);
}
return self::resJson(1, &lsquo;不是base64格式&rsquo;);&lt;/code>&lt;/pre>&lt;p>&lt;br>&lt;/p>&lt;p>运行效果图如下：&lt;/p>&lt;p>&lt;img src="http://www.yuemeet.com/data/upload/2017-11-07/5a0120edf112b.png" title="5a0120edf112b.png" alt="5a0120edf112b.png" _src="/data/upload/2017-11-07/5a0120edf112b.png">&lt;/p>&lt;p>&lt;span>&lt;strong>PS：这里再为大家推荐几款在线图片工具供大家参考使用&lt;/strong>&lt;/span>&lt;/p>&lt;p>&lt;span>&lt;strong>图片转换为Base64编码在线工具：&lt;/strong>&lt;/span>&lt;br>&lt;a target="_blank" href="http://tools.jb51.net/transcoding/img2base64" _href="http://tools.jb51.net/transcoding/img2base64">http://tools.jb51.net/transcoding/img2base64&lt;/a>&lt;/p>&lt;p>&lt;span>&lt;strong>在线图片格式转换(jpg/bmp/gif/png)工具：&lt;/strong>&lt;br>&lt;/span>&lt;a target="_blank" href="http://tools.jb51.net/aideddesign/picext" _href="http://tools.jb51.net/aideddesign/picext">http://tools.jb51.net/aideddesign/picext&lt;/a>&lt;/p>&lt;p>&lt;span>&lt;strong>ICO图标在线生成工具：&lt;/strong>&lt;br>&lt;/span>&lt;a target="_blank" href="http://tools.jb51.net/aideddesign/ico_img" _href="http://tools.jb51.net/aideddesign/ico_img">http://tools.jb51.net/aideddesign/ico_img&lt;/a>&lt;/p>&lt;p>&lt;br>&lt;/p></p></div></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>