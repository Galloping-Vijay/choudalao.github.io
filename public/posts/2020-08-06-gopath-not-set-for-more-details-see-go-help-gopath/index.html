<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>$GOPATH not set. For more details see: go help gopath - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="$GOPATH not set. For more details see: go help gopath"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>$GOPATH not set. For more details see: go help gopath</h1></header><div class="content post__content clearfix"><h1 id=问题>问题</h1><p>今天在<code>ubuntu</code>上安装 <code>go</code> 依赖时报错，执行命令如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo go get github.com/gorilla/mux
</span></span></code></pre></div><blockquote><p>$GOPATH not set. For more details see: go help gopath</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200806/20200806135704FeBsN2.png alt></p><h1 id=分析>分析</h1><p>因为<code>sudo</code>我们使用了<code>root</code>的环境，而我们没有在<code>root</code>的<code>.bashrc</code>文件中设置<code>GOPATH</code>。</p><p>查看环境配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>go env
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20200806/20200806134703bAQaLg.png alt></p><p>需要注意的是<code>GOPATH</code>变量的值<code>GOPATH=/www/wwwroot/default/goCode</code>，GOPATH是<code>go get</code>指令默认下载和安装包的位置，通过<code>go get</code>指令，获取<code>go</code>的包，默认下载到<code>GOPATH</code>所指示的目录中。</p><h1 id=解决方案>解决方案</h1><p>###方式一：直接go get xxx即可。</p><p>这种方式需要设置目录权限。到<code>GOPATH</code>目录下的src -> github.com 目录下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo chmod -R <span style=color:#ae81ff>777</span> ./*
</span></span></code></pre></div><p>然后再安装相应的包</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>go get github.com/gorilla/mux
</span></span></code></pre></div><p>###方式二：在/etc/profile文件中添加GOPATH变量。</p><p>修改<code>/etc/profile</code>文件</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo vim /etc/profile
</span></span></code></pre></div><p>在文件最后面加上：<code>export GOPATH=/www/wwwroot/default/goCode</code></p><p><img src=https://www.choudalao.com/uploads/20200806/20200806140832IgGPc6.png alt></p><p>编辑完成后在终端运行如下命令，使文件立刻生效，</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>source /etc/profile
</span></span></code></pre></div><p>###方式三：sudo env GOPATH=/opt/go go get github.com/nsf/gocode，命令里面手动给出GOPATH变量值。</p><p>举个拉取 <code>go-sql-driver</code>的栗子：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo env GOPATH<span style=color:#f92672>=</span>/www/wwwroot/default/goCode go get github.com/go-sql-driver/mysql
</span></span></code></pre></div><p>以上三种方式都可以解决<code>$GOPATH not set </code>问题，这样就可以拉取需要的<code>go</code>依赖包了。</p></div></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>