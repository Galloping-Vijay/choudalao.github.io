<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Docker 入门 - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Docker 入门"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/choudalao.github.io/css/style.css><link rel="shortcut icon" href=/choudalao.github.io/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/choudalao.github.io/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/choudalao.github.io/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/categories/><span class=menu__text>分类</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/tags/><span class=menu__text>标签</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/posts/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Docker 入门</h1></header><div class="content post__content clearfix"><h1 id=什么是-docker>什么是 Docker</h1><p>启动</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>start</span> <span style=color:#a6e22e>docker</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>start</span>
</span></span></code></pre></div><p>重启</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>restart</span>
</span></span></code></pre></div><p>查看状态</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>status</span> <span style=color:#a6e22e>docker</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>status</span>
</span></span></code></pre></div><p>停止</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>stop</span> <span style=color:#a6e22e>docker</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>stop</span>
</span></span></code></pre></div><h1 id=docker-能解决什么问题>Docker 能解决什么问题</h1><h1 id=docker-操作>Docker 操作</h1><h3 id=镜像操作>镜像操作</h3><h4 id=列出镜像列表>列出镜像列表</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>images</span>
</span></span></code></pre></div><h4 id=拉取镜像>拉取镜像</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>pull</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><h4 id=提交镜像修改信息>提交镜像修改信息</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>commit</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>m</span><span style=color:#e6db74>&#39;增加了gbd&#39;</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;vijay&#34;</span> <span style=color:#a6e22e>mylinux</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><blockquote><p>各个参数说明：
-m: 提交的描述信息
-a: 指定镜像作者
mylinux：容器名称，也可以为容器 ID
gallopingvijay/mylinux:v
1.0.0: 指定要创建的目标镜像名</p></blockquote><h4 id=推送镜像>推送镜像</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>push</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><h4 id=镜像详情>镜像详情</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>image</span> <span style=color:#a6e22e>inspect</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span>:<span style=color:#a6e22e>v1</span><span style=color:#ae81ff>.0.0</span>
</span></span></code></pre></div><h4 id=备份镜像>备份镜像</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>save</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>o</span> <span style=color:#a6e22e>backup</span>.<span style=color:#a6e22e>tar</span> <span style=color:#a6e22e>myimage</span>
</span></span></code></pre></div><blockquote><p>myimage 镜像名称,也可以带上标签如:myimage:test
backup.tar 打包的包名称</p></blockquote><h4 id=加载tar文件中的镜像>加载tar文件中的镜像</h4><p>加载tar文件中的镜像,将其添加到本地的镜像仓库中。(如果本地存在同名同标签镜像会被覆盖)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>load</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>i</span> <span style=color:#a6e22e>backup</span>.<span style=color:#a6e22e>tar</span>
</span></span></code></pre></div><h4 id=创建一个镜像标签>创建一个镜像标签</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>tag</span> &lt;<span style=color:#a6e22e>镜像名称</span>&gt;:&lt;<span style=color:#a6e22e>旧标签</span>&gt; &lt;<span style=color:#a6e22e>新标签</span>&gt;
</span></span></code></pre></div><p>其中，&lt;镜像名称>是要标记的镜像的名称，&lt;旧标签>是要为该镜像指定的旧标签，&lt;新标签>是要为该镜像指定的新标签。</p><p>通过使用docker tag命令，可以为镜像创建多个不同的标签，以便在不同的场景中使用不同的标签来引用同一个镜像。这样可以方便地管理和使用镜像。</p><h4 id=删除镜像>删除镜像</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>rmi</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><h5 id=删除全部镜像>删除全部镜像</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>rmi</span> <span style=color:#960050;background-color:#1e0010>$</span>(<span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>images</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>q</span>)
</span></span></code></pre></div><h5 id=强制删除全部镜像>强制删除全部镜像</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>rmi</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span> <span style=color:#960050;background-color:#1e0010>$</span>(<span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>images</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>q</span>)
</span></span></code></pre></div><h5 id=删除tag为none的镜像>删除tag为none的镜像</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>images</span>|<span style=color:#a6e22e>grep</span> <span style=color:#a6e22e>none</span>|<span style=color:#a6e22e>awk</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>{<span style=color:#a6e22e>print</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#ae81ff>3</span>}<span style=color:#960050;background-color:#1e0010>&#39;</span>|<span style=color:#a6e22e>xargs</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>rmi</span>
</span></span></code></pre></div><h3 id=容器操作>容器操作</h3><h4 id=查看容器>查看容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span> <span style=color:#75715e>// -a表示所有容器，不带-a表示运行中的
</span></span></span><span style=display:flex><span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>ps</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span>
</span></span></code></pre></div><h4 id=运行容器>运行容器</h4><p>语法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>run</span> [<span style=color:#a6e22e>OPTIONS</span>] <span style=color:#a6e22e>IMAGE</span> [<span style=color:#a6e22e>COMMAND</span>] [<span style=color:#a6e22e>ARG</span><span style=color:#f92672>...</span>]
</span></span></code></pre></div><blockquote><p>OPTIONS说明：
-a stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；
-d: 后台运行容器，并返回容器ID；
-i: 以交互模式运行容器，通常与 -t 同时使用；
-P: 随机端口映射，容器内部端口随机映射到主机的端口
-p: 指定端口映射，格式为：主机(宿主)端口:容器端口
-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用；
&ndash;name=&ldquo;nginx-lb&rdquo;: 为容器指定一个名称；
&ndash;dns 8.8.8.8: 指定容器使用的DNS服务器，默认和宿主一致；
&ndash;dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；
-h &ldquo;mars&rdquo;: 指定容器的hostname；
-e username=&ldquo;ritchie&rdquo;: 设置环境变量；
&ndash;env-file=[]: 从指定文件读入环境变量；
&ndash;cpuset=&ldquo;0-2&rdquo; or &ndash;cpuset=&ldquo;0,1,2&rdquo;: 绑定容器到指定CPU运行；
-m :设置容器使用内存最大值；
&ndash;net=&ldquo;bridge&rdquo;: 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；
&ndash;link=[]: 添加链接到另一个容器；
&ndash;expose=[]: 开放一个端口或一组端口；
&ndash;volume , -v: 绑定一个卷</p></blockquote><p>实例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// 启动一个容器
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>run</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>t</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>i</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>bin</span><span style=color:#f92672>/</span><span style=color:#a6e22e>bash</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// 使用镜像 gallopingvijay/mylinux:v1.0.0，以后台模式启动一个容器,将容器的 80 端口映射到主机的 12345 端口,主机的目录 D:\docker\www映射到容器的 /www/wwwroot/，并指定名称为 mylinux
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>run</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>it</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>d</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>v</span> <span style=color:#a6e22e>D</span><span style=color:#f92672>:</span><span style=color:#a6e22e>\docker\www</span><span style=color:#f92672>:/</span><span style=color:#a6e22e>www</span><span style=color:#f92672>/</span><span style=color:#a6e22e>wwwroot</span><span style=color:#f92672>/</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>12345</span><span style=color:#f92672>:</span><span style=color:#ae81ff>80</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>1111</span><span style=color:#f92672>:</span><span style=color:#ae81ff>8888</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mylinux&#34;</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 常用端口映射
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>run</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>it</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>d</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>v</span> <span style=color:#a6e22e>D</span><span style=color:#f92672>:</span><span style=color:#a6e22e>\wwwroot</span><span style=color:#f92672>:/</span><span style=color:#a6e22e>www</span><span style=color:#f92672>/</span><span style=color:#a6e22e>wwwroot</span><span style=color:#f92672>/</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>12345</span><span style=color:#f92672>:</span><span style=color:#ae81ff>80</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>8887</span><span style=color:#f92672>:</span><span style=color:#ae81ff>8888</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>887</span><span style=color:#f92672>:</span><span style=color:#ae81ff>888</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>3305</span><span style=color:#f92672>:</span><span style=color:#ae81ff>3306</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>442</span><span style=color:#f92672>:</span><span style=color:#ae81ff>443</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>2222</span><span style=color:#f92672>:</span><span style=color:#ae81ff>22</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>2221</span><span style=color:#f92672>:</span><span style=color:#ae81ff>21</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>8081</span><span style=color:#f92672>:</span><span style=color:#ae81ff>8080</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>9557</span><span style=color:#f92672>:</span><span style=color:#ae81ff>9507</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mylinux&#34;</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><p>再来一个：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// 可以看出，可以绑定多个 -v 等参数
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>run</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>d</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>v</span> <span style=color:#a6e22e>E</span><span style=color:#f92672>:</span><span style=color:#a6e22e>\wnmp\mysql</span><span style=color:#f92672>-</span><span style=color:#a6e22e>log</span><span style=color:#f92672>:/</span><span style=color:#66d9ef>var</span><span style=color:#f92672>/</span><span style=color:#a6e22e>log</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mysql</span><span style=color:#f92672>/</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>v</span> <span style=color:#a6e22e>E</span><span style=color:#f92672>:</span><span style=color:#a6e22e>\wnmp\mysql</span><span style=color:#f92672>-</span><span style=color:#a6e22e>conf</span><span style=color:#f92672>:/</span><span style=color:#a6e22e>etc</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mysql</span><span style=color:#f92672>/</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>p</span> <span style=color:#ae81ff>3306</span><span style=color:#f92672>:</span><span style=color:#ae81ff>3306</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>e</span> <span style=color:#a6e22e>MYSQL_ROOT_PASSWORD</span><span style=color:#f92672>=</span><span style=color:#ae81ff>123456</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>name</span> <span style=color:#a6e22e>mysql</span> <span style=color:#a6e22e>mysql</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5.6</span>
</span></span></code></pre></div><h4 id=启动容器>启动容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// 后面跟名称和ID都可以，下面的也是一样的
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>start</span> <span style=color:#a6e22e>mylinux</span>
</span></span></code></pre></div><h4 id=查看容器绑定和映射的端口及ip地址>查看容器绑定和映射的端口及Ip地址</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>port</span> <span style=color:#a6e22e>mylinux</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>inspect</span> <span style=color:#a6e22e>mylinux</span><span style=color:#f92672>|</span><span style=color:#a6e22e>grep</span> <span style=color:#a6e22e>IPAddress</span>
</span></span></code></pre></div><h4 id=进入容器>进入容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>exec</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>it</span> <span style=color:#a6e22e>xxx</span> <span style=color:#f92672>/</span><span style=color:#a6e22e>bin</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sh</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>attach</span> <span style=color:#ae81ff>1e560</span><span style=color:#a6e22e>fca3906</span>
</span></span></code></pre></div><p>attach 命令如果exit，会导致容器的停止</p><h4 id=停止一个容器>停止一个容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>stop</span> <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>容器</span> <span style=color:#a6e22e>ID</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h4 id=重启容器>重启容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>restart</span> <span style=color:#ae81ff>1e560</span><span style=color:#a6e22e>fca3906</span>
</span></span></code></pre></div><h4 id=删除容器>删除容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>rm</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span> <span style=color:#ae81ff>1e560</span><span style=color:#a6e22e>fca3906</span>
</span></span></code></pre></div><h4 id=查看容器的日志>查看容器的日志</h4><p>看实时日志 1e560fca3906 也可以是容器名称</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>logs</span> <span style=color:#ae81ff>1e560</span><span style=color:#a6e22e>fca3906</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span>
</span></span></code></pre></div><h4 id=启动所有镜像>启动所有镜像</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>start</span> <span style=color:#960050;background-color:#1e0010>$</span>(<span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>ps</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>q</span>)
</span></span></code></pre></div><h4 id=stop停止所有容器>stop停止所有容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>stop</span> <span style=color:#960050;background-color:#1e0010>$</span>(<span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>ps</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>q</span>)
</span></span></code></pre></div><h4 id=remove删除所有容器>remove删除所有容器</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>rm</span> <span style=color:#960050;background-color:#1e0010>$</span>(<span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>ps</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>q</span>)
</span></span></code></pre></div><h2 id=docker-compose-命令>docker-compose 命令</h2><p>构建（重新构建）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>build</span> 
</span></span></code></pre></div><p>启动容器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>up</span>
</span></span></code></pre></div><p>后台启动并运行</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>up</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>d</span>
</span></span></code></pre></div><p>查看容器列表</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>ps</span>
</span></span></code></pre></div><p>查看日志（-f 一直监听）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>logs</span>
</span></span></code></pre></div><p>关闭容器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>stop</span>
</span></span></code></pre></div><p>启动容器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>start</span>
</span></span></code></pre></div><p>重启容器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>restart</span>
</span></span></code></pre></div><p>删除容器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>rm</span>
</span></span></code></pre></div><p>进入容器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>docker</span><span style=color:#f92672>-</span><span style=color:#a6e22e>compose</span> <span style=color:#a6e22e>exec</span> <span style=color:#a6e22e>xxx</span> <span style=color:#a6e22e>sh</span>
</span></span></code></pre></div><p>xxx是容器名称</p><p><a href=https://yeasy.gitbook.io/docker_practice/compose/commands#up title="docker-compose 命令说明">docker-compose 命令说明</a></p><p><a href=https://blog.csdn.net/qq_44973159/article/details/121357388 title=Docker与Docker-Compose详解>Docker与Docker-Compose详解</a></p><h2 id=docker-容器内文件复制到本地>docker 容器内文件复制到本地</h2><p>查看容器id</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>dockers</span> <span style=color:#a6e22e>ps</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span>
</span></span></code></pre></div><p>复制容器内文件到本地(容器ID也可以是容器名)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>dockers</span> <span style=color:#a6e22e>cp</span> <span style=color:#a6e22e>容器ID</span>:<span style=color:#a6e22e>目标路径</span> <span style=color:#a6e22e>本地文件路径</span>
</span></span></code></pre></div><p>复制本地文件到容器目录</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>dockers</span> <span style=color:#a6e22e>cp</span> <span style=color:#a6e22e>本地文件路径</span> <span style=color:#a6e22e>容器ID</span>:<span style=color:#a6e22e>目标路径</span>
</span></span></code></pre></div></div></article></main></div><aside class=sidebar><div class="widget-categories widget"><h4 class=widget__title>分类</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/ai/>AI</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/go/>Go</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/linux/>Linux</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/mysql/>MYSQL</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/php/>Php</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/python/>Python</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/%E4%B8%AA%E4%BA%BA/>个人</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/%E5%85%B6%E4%BB%96/>其他</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/categories/%E5%89%8D%E7%AB%AF/>前端</a></li></ul></div></div><div class="widget-recent widget"><h4 class=widget__title>近期文章</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2025-04-19-cline%E4%B8%AD%E4%BD%BF%E7%94%A8-mysql-mcp-%E6%9C%8D%E5%8A%A1/>Cline中使用 MySql MCP 服务</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2020-09-03-%E5%9F%BA%E4%BA%8Elaravel%E5%8F%8Alayui%E5%BC%80%E5%8F%91%E7%9A%84%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-laravel-wjfcms/>基于laravel及layui开发的后台管理系统 -- laravel-wjfcms</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2020-06-02-%E8%85%BE%E8%AE%AF%E4%BA%91%E4%BA%A7%E5%93%81%E5%A4%A7%E4%BF%83/>腾讯云产品大促</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2019-09-21-git%E6%93%8D%E4%BD%9C/>Git操作</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2026-01-29-openclaw-%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/>openclaw 安装及使用</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2026-01-28-mise-%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/>mise 安装及使用指南</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2026-01-26-%E7%94%A8-obsidian-%E6%89%93%E9%80%A0ai%E7%AC%94%E8%AE%B0/>用 Obsidian 打造AI笔记</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2026-01-22-claude-%E5%AE%98%E6%96%B9-skill-creator-%E4%BB%8B%E7%BB%8D%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/>Claude 官方 Skill-Creator 介绍及使用指南</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2026-01-22-%E9%80%9A%E8%BF%87qq%E9%82%AE%E7%AE%B1%E4%BB%A3%E6%94%B6gmail%E9%82%AE%E4%BB%B6/>通过QQ邮箱代收Gmail邮件</a></li><li class=widget__item><a class=widget__link href=/choudalao.github.io/posts/2026-01-19-%E8%A7%A3%E5%86%B3-wsl2-windows-hosts-%E5%BC%80%E5%90%AF-vpn-%E5%90%8E%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E6%9C%AC%E5%9C%B0-web-%E6%9C%8D%E5%8A%A1%E7%9A%84%E9%97%AE%E9%A2%98/>解决 WSL2 + Windows Hosts + 开启 VPN 后无法访问本地 Web 服务的问题</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>标签</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/choudalao.github.io/tags/php/ title=Php>Php</a>
<a class="widget-taglist__link widget__link btn" href=/choudalao.github.io/tags/%E5%85%B3%E4%BA%8E/ title=关于>关于</a></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/choudalao.github.io/js/menu.js></script></body></html>