<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Posts - 臭大佬博客</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/choudalao.github.io/css/style.css><link rel=alternate type=application/rss+xml href=/choudalao.github.io/posts/index.xml title=臭大佬博客><link rel="shortcut icon" href=/choudalao.github.io/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/choudalao.github.io/ title=臭大佬博客 rel=home><div class="logo__item logo__text"><div class=logo__title>臭大佬博客</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/choudalao.github.io/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/post/><span class=menu__text>归档</span></a></li><li class=menu__item><a class=menu__link href=/choudalao.github.io/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>Posts</h1></header><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-08-10-error-class-socketerror-errno-13-permission-denied-file-usrlibpython27socketpy-l/ rel=bookmark>error: &lt;class 'socket.error'>, [Errno 13] Permission denied: file: /usr/lib/python2.7/socket.py line: 228</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><blockquote><p>error: &lt;class &lsquo;socket.error&rsquo;>, [Errno 13] Permission denied: file: /usr/lib/python2.7/socket.py line: 228</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200810/20200810153405g3iI9n.png alt></p><h1 id=解决>解决</h1><p><code>ubuntu</code>下需要使用<code>root</code>去运行，在命令前面加上<code>sudo</code>就可以了。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-08-06-gopath-not-set-for-more-details-see-go-help-gopath/ rel=bookmark>$GOPATH not set. For more details see: go help gopath</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>今天在<code>ubuntu</code>上安装 <code>go</code> 依赖时报错，执行命令如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-shell data-lang=shell><span style=display:flex><span>sudo go get github.com/gorilla/mux
</span></span></code></pre></div><blockquote><p>$GOPATH not set. For more details see: go help gopath</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200806/20200806135704FeBsN2.png alt></p><h1 id=分析>分析</h1><p>因为<code>sudo</code>我们使用了<code>root</code>的环境，而我们没有在<code>root</code>的<code>.bashrc</code>文件中设置<code>GOPATH</code>。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-31-github%E4%BB%93%E5%BA%93%E4%B8%AD%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E5%A4%A7%E6%96%87%E4%BB%B6/ rel=bookmark>github仓库中删除历史大文件</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>如果git中提交了大文件，而且保存到了版本库中，那在下载或者克隆git包的时候，速度会非常慢。再加上github在国内访问本来就很慢，可能会导致包无法下载（克隆）。为了提升下载（克隆）速度，可以永久的删除这些文件(包括该文件的历史记录)，操作方法如下；</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-31-%E4%B8%AD%E6%96%87%E5%88%86%E8%AF%8D%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/ rel=bookmark>中文分词搜索功能</a></h2></header><div class="content list__excerpt post__content clearfix"><h3 id=中文分词介绍>中文分词介绍</h3><p>众所周知，英文是以词为单位的，词和词之间是靠空格隔开，而中文是以字为单位，句子中所有的字连起来才能描述一个意思。例如，英文句子I am a student，用中文则为：“我是一个学生”。计算机可以很简单通过空格知道student是一个单词，但是不能很容易明白“学”、“生”两个字合起来才表示一个词。把中文的汉字序列切分成有意义的词，就是中文分词，有些人也称为切词。我是一个学生，分词的结果是：我 是 一个 学生。</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-31-fatal-error-allowed-memory-size-of-1610612736-bytes-exhausted-tried-to-allocate/ rel=bookmark>Fatal error: Allowed memory size of 1610612736 bytes exhausted (tried to allocate 134217736 bytes)</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>WIN10 下拉取 composer 时报如下错误。</p><blockquote><p>Fatal error: Allowed memory size of 1610612736 bytes exhausted (tried to allocate 134217736 bytes) in phar://xxx/bin/composer.phar/src/Composer/Dep
endencyResolver/RuleSet.php on line 84</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200731/20200731095301lzsVNr.png alt></p><h1 id=分析>分析</h1><p>原因是内存不够，打开 php.ini 配置文件，搜索 memory_limit 配置项，修改如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>memory_limit</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20200731/20200731095632RUmY0D.png alt></p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-29-docker-%E5%85%A5%E9%97%A8/ rel=bookmark>Docker 入门</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=什么是-docker>什么是 Docker</h1><p>启动</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>start</span> <span style=color:#a6e22e>docker</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>start</span>
</span></span></code></pre></div><p>重启</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>restart</span>
</span></span></code></pre></div><p>查看状态</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>status</span> <span style=color:#a6e22e>docker</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>status</span>
</span></span></code></pre></div><p>停止</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>systemctl</span> <span style=color:#a6e22e>stop</span> <span style=color:#a6e22e>docker</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>stop</span>
</span></span></code></pre></div><h1 id=docker-能解决什么问题>Docker 能解决什么问题</h1><h1 id=docker-操作>Docker 操作</h1><h3 id=镜像操作>镜像操作</h3><h4 id=列出镜像列表>列出镜像列表</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>images</span>
</span></span></code></pre></div><h4 id=拉取镜像>拉取镜像</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>pull</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><h4 id=提交镜像修改信息>提交镜像修改信息</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>docker</span> <span style=color:#a6e22e>commit</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>m</span><span style=color:#e6db74>&#39;增加了gbd&#39;</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>a</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;vijay&#34;</span> <span style=color:#a6e22e>mylinux</span> <span style=color:#a6e22e>gallopingvijay</span><span style=color:#f92672>/</span><span style=color:#a6e22e>mylinux</span><span style=color:#f92672>:</span><span style=color:#a6e22e>v1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>0.0</span>
</span></span></code></pre></div><blockquote><p>各个参数说明：
-m: 提交的描述信息
-a: 指定镜像作者
mylinux：容器名称，也可以为容器 ID
gallopingvijay/mylinux:v
1.0.0: 指定要创建的目标镜像名</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-27-dial-tcp-34644113443-connectex-a-connection-attempt-failed-because-the-connected/ rel=bookmark>dial tcp 34.64.4.113:443: connectex: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>在拉取 go 第三方扩展包的时候报如下错误：</p><blockquote><p>dial tcp 34.64.4.113:443: connectex: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200727/20200727155018uNIdDv.png alt></p><h1 id=分析>分析</h1><p>查看 GOSUMDB 的配置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span> <span style=color:#66d9ef>go</span> <span style=color:#a6e22e>env</span>
</span></span></code></pre></div><p><img src=https://www.choudalao.com/uploads/20200727/20200727155555otuFMn.png alt></p><p>最后是因为set GOSUMDB=sum.golang.org</p><p>把它关掉</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-23-error-during-connect-get-http2f2f2fpipe2fdocker_enginev140imagesjson/ rel=bookmark>error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_engine/v1.40/images/json:</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>Win10在运行 <code>docker</code> 命令的时候报如下错误:</p><blockquote><p>error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_engine/v1.40/images/json: open //./pipe/docker_engine: The system cannot find the file specified. In the default daemon configuration on Windows, the docker client must be run elevated to connect. This error may also indicate that the docker daemon is not running.</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200723/202007231537202ExhLx.png alt></p><h1 id=解决方案>解决方案</h1><p>点击工具栏docker desktop的小图标上右键，然后 Setting&ndash;> General&ndash;>勾选Expose daemon on tcp localhost那个选项。重启</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-22-laravel-%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E6%8A%A5%E9%94%99/ rel=bookmark>Laravel 第三方登录报错</a></h2></header><div class="content list__excerpt post__content clearfix"><h1 id=问题>问题</h1><p>laravel 在使用第三方登录时报如下错误</p><blockquote><p>Laravel \ Socialite \ Two \ InvalidStateException
No message</p></blockquote><p><img src=https://www.choudalao.com/uploads/20200722/20200722202739r8f9ws.png alt></p><h1 id=解决方法>解决方法</h1><p>在回调方法中添加 stateless()函数：stateless()函数的作用是禁止会话状态验证</p></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/choudalao.github.io/posts/2020-07-22-phper%E7%9A%84go%E4%B9%8B%E8%B7%AF-http%E8%AF%B7%E6%B1%82/ rel=bookmark>PHPer的Go之路 -- http请求</a></h2></header><div class="content list__excerpt post__content clearfix"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;io&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/url&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;os&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getUrl</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;http://www.choudalao.com&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>postUrl</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;http://www.choudalao.com/login&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>get 请求
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getHttp</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>resp</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>getUrl</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;发起请求失败：%v&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Copy</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdout</span>, <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>Body</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>post 请求
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>postHttp</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>resp</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>PostForm</span>(<span style=color:#a6e22e>postUrl</span>, <span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>Values</span>{<span style=color:#e6db74>&#34;name&#34;</span>: {<span style=color:#e6db74>&#34;choudalao&#34;</span>}, <span style=color:#e6db74>&#34;password&#34;</span>: {<span style=color:#e6db74>&#34;123456&#34;</span>}})
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// 处理错误</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>StatusCode</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusOK</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// 处理错误</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Copy</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdout</span>, <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>Body</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>可以设置请求头信息等
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>clientHttp</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 初始化客户端请求对象</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>NewRequest</span>(<span style=color:#e6db74>&#34;GET&#34;</span>, <span style=color:#a6e22e>getUrl</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;请求初始化失败：%v&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 添加自定义请求头</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>Header</span>.<span style=color:#a6e22e>Add</span>(<span style=color:#e6db74>&#34;User-Agent&#34;</span>, <span style=color:#e6db74>&#34;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#75715e>// ... 其它请求头配置</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>client</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Client</span>{
</span></span><span style=display:flex><span>		<span style=color:#75715e>// ... 设置客户端属性</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>resp</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>Do</span>(<span style=color:#a6e22e>req</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;客户端发起请求失败：%v&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Copy</span>(<span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Stdout</span>, <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>Body</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>//getHttp()</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>//postHttp()</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>clientHttp</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article></main><div class=pagination><a class="pagination__item pagination__item--prev btn" href=/choudalao.github.io/posts/page/17/>«</a>
<span class="pagination__item pagination__item--current">18/35</span>
<a class="pagination__item pagination__item--next btn" href=/choudalao.github.io/posts/page/19/>»</a></div></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2026 臭大佬博客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> 主题</span></div></div></footer></div><script async defer src=/choudalao.github.io/js/menu.js></script></body></html>